{"remainingRequest":"/Users/Fandy/workspace/e2c/front/node_modules/babel-loader/lib/index.js!/Users/Fandy/workspace/e2c/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Fandy/workspace/e2c/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Fandy/workspace/e2c/front/src/views/dashboard/PanelGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Fandy/workspace/e2c/front/src/views/dashboard/PanelGroup.vue","mtime":1612602641567},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBncm91cExpc3QsIGdyb3VwQWRkIH0gZnJvbSAnQC9hcGkvZ3JvdXAnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBncm91cEluZm86IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBhdmF0YXI6ICJodHRwczovL3dwaW1nLndhbGxzdGNuLmNvbS9mNzc4NzM4Yy1lNGY4LTQ4NzAtYjYzNC01NjcwM2I0YWNhZmUuZ2lmIgogICAgICB9LAogICAgICBsaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGE6IGZ1bmN0aW9uIGZldGNoRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBncm91cExpc3Qoe30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGlzdCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDbGlja0dyb3VwUGFuZWw6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrR3JvdXBQYW5lbChncm91cEluZm8pIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdyb3VwSW5mbyIsIEpTT04uc3RyaW5naWZ5KGdyb3VwSW5mbykpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9jb25maWcvaW5kZXgiCiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUNsaWNrQWRkR3JvdXA6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrQWRkR3JvdXAoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYWRkR3JvdXBJbmZvOiBmdW5jdGlvbiBhZGRHcm91cEluZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2codGhpcy5ncm91cEluZm8pOwogICAgICBncm91cEFkZCh0aGlzLmdyb3VwSW5mbykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5ncm91cEluZm8gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpczIubGlzdC5wdXNoKHJlc3BvbnNlLmRhdGEuZ3JvdXBJbmZvKTsKCiAgICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmxpc3QpOwogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRBdmF0YXI6IGZ1bmN0aW9uIHVwbG9hZEF2YXRhcihlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwoKICAgICAgaWYgKHRoaXMuY2hlY2tGaWxlKGZpbGVzWzBdKSkgewogICAgICAgIHRoaXMuc2V0U291cmNlSW1nKGZpbGVzWzBdKTsKICAgICAgfQogICAgfSwKCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgLy8g5qOA5rWL6YCJ5oup55qE5paH5Lu25piv5ZCm5ZCI6YCCCiAgICBjaGVja0ZpbGU6IGZ1bmN0aW9uIGNoZWNrRmlsZShmaWxlKSB7CiAgICAgIHZhciBsYW5nID0gdGhpcy5sYW5nLAogICAgICAgICAgbWF4U2l6ZSA9IHRoaXMubWF4U2l6ZTsgLy8g5LuF6ZmQ5Zu+54mHCgogICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IC0xKSB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGxhbmcuZXJyb3Iub25seUltZzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8g6LaF5Ye65aSn5bCPCgoKICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgPiBtYXhTaXplKSB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGxhbmcuZXJyb3Iub3V0T2ZTaXplICsgbWF4U2l6ZSArICdrYic7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBzZXRTb3VyY2VJbWc6IGZ1bmN0aW9uIHNldFNvdXJjZUltZyhmaWxlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLmdyb3VwSW5mby5hdmF0YXIgPSBmci5yZXN1bHQ7CiAgICAgIH07CgogICAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogICAgfSwKICAgIGluQXJyYXk6IGZ1bmN0aW9uIGluQXJyYXkoYXJyLCB0YXJnZXQpIHsKICAgICAgZm9yICh2YXIgaSBpbiBhcnIpIHsKICAgICAgICBpZiAoYXJyW2ldID09IHRhcmdldCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PanelGroup.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-row :gutter=\"40\" class=\"panel-group\" v-loading=\"listLoading\" element-loading-text=\"Loading\">\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\" v-for=\"item in list\" :key=\"item.gid\">\n      <div class=\"card-panel\" @click=\"handleClickGroupPanel(item)\">\n        <div class=\"card-panel-icon-wrapper icon-box\">\n          <img :src=\"item.avatar\" alt=\"\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <div class=\"card-panel-text\">\n            {{item.name}}\n          </div>\n        </div>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=handleClickAddGroup()>\n        <div class=\"card-panel-icon-wrapper icon-box\">\n          <i class=\"el-icon-plus\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <div class=\"card-panel-text\">\n            添加项目\n          </div>\n        </div>\n      </div>\n    </el-col>\n\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"添加项目\">\n      <el-form :model=\"groupInfo\" label-width=\"80px\" label-position=\"left\">\n        <el-form-item label=\"项目名称\">\n          <el-input v-model=\"groupInfo.name\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"头像\">\n          <el-col :span=\"11\">\n            <img id=\"group-icon\" v-bind:src=\"groupInfo.avatar\" alt=\"\">\n            <input class=\"avatar-input\" type=\"file\" accept=\"image/*\" @change=\"uploadAvatar\" name=\"avatar\"   />\n          </el-col>\n        </el-form-item>\n        <br>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"groupInfo.remark\" type=\"textarea\" placeholder=\"项目备注\" />\n        </el-form-item>\n      </el-form>\n      \n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addGroupInfo\">保存</el-button>\n      </div>\n    </el-dialog>\n  </el-row>\n</template>\n\n<script>\nimport { groupList, groupAdd } from '@/api/group'\n\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      groupInfo: {\n        name: \"\",\n        avatar: \"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif\",\n      },\n      listLoading: false,\n      list: [],\n    }\n  },\n  components: {\n  },\n  mounted() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true\n      groupList({}).then(response => {\n        if (response.data.list != undefined) {\n          this.list = response.data.list\n        }\n        this.listLoading = false\n      })\n    },\n    handleClickGroupPanel(groupInfo) {\n      localStorage.setItem(\"groupInfo\", JSON.stringify(groupInfo))\n      this.$router.push({\n        path: \"/config/index\",\n      })\n    },\n    handleClickAddGroup() {\n      this.dialogVisible = true\n    },\n    addGroupInfo() {\n      console.log(this.groupInfo)\n      groupAdd(this.groupInfo).then(response => {\n        if (response.data.groupInfo != undefined) {\n          this.list.push(response.data.groupInfo)\n          this.dialogVisible = false\n        }\n        console.log(this.list)\n      })\n    },\n    uploadAvatar(e) {\n      e.preventDefault()\n      console.log(e)\n      const files = e.target.files || e.dataTransfer.files\n      if (this.checkFile(files[0])) {\n        this.setSourceImg(files[0])\n      }\n    },\n    /* ---------------------------------------------------------------*/\n    // 检测选择的文件是否合适\n    checkFile(file) {\n      const { lang, maxSize } = this\n      // 仅限图片\n      if (file.type.indexOf('image') === -1) {\n        this.hasError = true\n        this.errorMsg = lang.error.onlyImg\n        return false\n      }\n      // 超出大小\n      if (file.size / 1024 > maxSize) {\n        this.hasError = true\n        this.errorMsg = lang.error.outOfSize + maxSize + 'kb'\n        return false\n      }\n      return true\n    },\n    setSourceImg(file) {\n      const fr = new FileReader()\n      fr.onload = e => {\n        this.groupInfo.avatar = fr.result\n      }\n      fr.readAsDataURL(file)\n    },\n    inArray(arr, target) {\n      for (var i in arr) {\n        if (arr[i] == target) {\n          return true\n        }\n      }\n      return false\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.panel-group {\n  margin-top: 18px;\n\n  .card-panel-col {\n    margin-bottom: 32px;\n  }\n\n  .avatar-input {\n    float: left;\n    position: absolute;\n    height: 60px;\n    width: 60px;\n    opacity: 0;\n  }\n  #group-icon {\n    float: left;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n  }\n\n  .card-panel {\n    height: 108px;\n    cursor: pointer;\n    font-size: 12px;\n    position: relative;\n    overflow: hidden;\n    color: #666;\n    background: #fff;\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\n    border-color: rgba(0, 0, 0, .05);\n\n    // &:hover {\n      // .card-panel-icon-wrapper {\n      //   color: #fff;\n      // }\n    // }\n\n    .icon-box img {\n      width: 64px;\n      border-radius: 50%;\n    }\n\n    .card-panel-icon-wrapper {\n      float: left;\n      margin: 22px 0 22px 50px;\n      // padding: 16px;\n      transition: all 0.38s ease-out;\n      border-radius: 6px;\n    }\n\n    .card-panel-icon {\n      float: left;\n      font-size: 48px;\n    }\n\n    .card-panel-description {\n      float: right;\n      font-weight: bold;\n      margin-right: 50px;\n      margin-left: 0px;\n\n      .card-panel-text {\n        line-height: 108px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 24px;\n        // margin-bottom: 12px;\n      }\n    }\n    .icon-box i {\n      font-size: 64px;\n      font-weight: bold;\n    }\n  }\n}\n\n@media (max-width:550px) {\n  // .card-panel-description {\n  //   display: none;\n  // }\n  .card-panel-text {\n    display: block!important;\n    margin: 10 auto;\n    text-align: center;\n  }\n  .icon-box {\n    text-align: center;\n  }\n  .icon-box img {\n    margin: 14px auto!important;\n    width: 48px;\n  }\n  .card-panel-icon-wrapper {\n    float: none !important;\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n\n    .svg-icon {\n      display: block;\n      margin: 14px auto !important;\n      float: none !important;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/dashboard"}]}