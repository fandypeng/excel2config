{"remainingRequest":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/babel-loader/lib/index.js!/Users/Fandy/workspace/e2c/excel2config/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Fandy/workspace/e2c/excel2config/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Fandy/workspace/e2c/excel2config/front/src/views/LuckySheet/LuckySheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Fandy/workspace/e2c/excel2config/front/src/views/LuckySheet/LuckySheet.vue","mtime":1620973786321},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvRmFuZHkvd29ya3NwYWNlL2UyYy9leGNlbDJjb25maWcvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyB0aXRsZSB9IGZyb20gJ0Avc2V0dGluZ3MnOwppbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMdWNreVNoZWV0JywKICBwcm9wczogewogICAgbXNnOiBTdHJpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZDogIiIsCiAgICAgIGlzTWFza1Nob3c6IGZhbHNlLAogICAgICBncmlkS2V5OiB0aGlzLiRyb3V0ZS5wYXJhbXMubmFtZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsndWlkJ10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHZtID0gdGhpczsgLy8gSW4gc29tZSBjYXNlcywgeW91IG5lZWQgdG8gdXNlICRuZXh0VGljawoKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGJhc2VIb3N0ID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSTsKICAgICAgdmFyIHdzSG9zdCA9IGJhc2VIb3N0LnJlcGxhY2UoIjgwMDAiLCAiODAwMSIpOwogICAgICB3c0hvc3QgPSB3c0hvc3QucmVwbGFjZSgiaHR0cDovLyIsICJ3czovLyIpOwogICAgICB2YXIgZ3JvdXBJbmZvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImdyb3VwSW5mbyIpOwogICAgICBncm91cEluZm8gPSBKU09OLnBhcnNlKGdyb3VwSW5mbyk7CiAgICAgIHZhciBhbGxvd0VkaXQgPSBncm91cEluZm8uSXNEZXY7CgogICAgICBpZiAoZ3JvdXBJbmZvLklzRGV2ID09IG51bGwpIHsKICAgICAgICBhbGxvd0VkaXQgPSB0cnVlOyAvLyBUT0RPOjog5Li05pe25omT5byA57q/5LiK546v5aKD55qE57yW6L6R5p2D6ZmQCiAgICAgIH0KCiAgICAgICQoZnVuY3Rpb24gKCkgewogICAgICAgIGx1Y2t5c2hlZXQuY3JlYXRlKHsKICAgICAgICAgIGNvbnRhaW5lcjogImx1Y2t5c2hlZXQiLAogICAgICAgICAgYWxsb3dVcGRhdGU6IHRydWUsCiAgICAgICAgICAvL+aYr+WQpuWFgeiuuOe8lui+keWQjueahOWQjuWPsOabtOaWsAogICAgICAgICAgZ3JpZEtleTogdm0uJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgIGxvYWRVcmw6IGJhc2VIb3N0ICsgIi9leGNlbD91aWQ9IiArIHZtLnVpZCArICImdG9rZW49IiArIGdldFRva2VuKCksCiAgICAgICAgICAvLyDphY3nva5sb2FkVXJs55qE5Zyw5Z2A77yMbHVja3lzaGVldOS8mumAmui/h2FqYXjor7fmsYLooajmoLzmlbDmja7vvIzpu5jorqTovb3lhaVzdGF0dXPkuLox55qEc2hlZXTmlbDmja7kuK3nmoTmiYDmnIlkYXRh77yM5YW25L2Z55qEc2hlZXTovb3lhaXpmaRkYXRh5a2X5q615aSW55qE5omA5pyJ5a2X5q61CiAgICAgICAgICBsb2FkU2hlZXRVcmw6IGJhc2VIb3N0ICsgIi9leGNlbC9zaGVldD91aWQ9IiArIHZtLnVpZCArICImdG9rZW49IiArIGdldFRva2VuKCksCiAgICAgICAgICAvL+mFjee9rmxvYWRTaGVldFVybOeahOWcsOWdgO+8jOWPguaVsOS4umdyaWRLZXnvvIjooajmoLzkuLvplK7vvIkg5ZKMIGluZGV477yIc2hlZXTkuLvplK7lkIjpm4bvvIzmoLzlvI/kuLpbMSwyLDNd77yJ77yM6L+U5Zue55qE5pWw5o2u5Li6c2hlZXTnmoRkYXRh5a2X5q615pWw5o2u6ZuG5ZCICiAgICAgICAgICB1cGRhdGVVcmw6IHdzSG9zdCArICIvdWlkLyIgKyB2bS51aWQgKyAiL3Rva2VuLyIgKyBnZXRUb2tlbigpLAogICAgICAgICAgbXlGb2xkZXJVcmw6ICIjL2NvbmZpZy9pbmRleCIsCiAgICAgICAgICB0aXRsZTogdm0uJHJvdXRlLnBhcmFtcy5uYW1lLAogICAgICAgICAgbGFuZzogInpoIiwKICAgICAgICAgIGFsbG93RWRpdDogYWxsb3dFZGl0CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKGx1Y2t5c2hlZXQpCiAgICBsdWNreXNoZWV0LmNsb3NlV2Vic29ja2V0KCk7CiAgICBsdWNreXNoZWV0LmRlc3Ryb3koKTsKICAgIHZhciByZXRUaXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibHVja3lzaGVldC10b29sdGlwLXVwIik7CgogICAgaWYgKHJldFRpcCAhPSBudWxsKSB7CiAgICAgIHJldFRpcC5yZW1vdmUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHt9Cn07"},{"version":3,"sources":["LuckySheet.vue"],"names":[],"mappings":";;;;;;;;;;AAOA,SAAA,KAAA,QAAA,YAAA;AACA,SAAA,QAAA,QAAA,cAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,GAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,KADA,CAAA,CADA,CAZA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,QAAA,EAAA,GAAA,IAAA,CADA,CAEA;;AACA,SAAA,SAAA,CAAA,YAAA;AACA,UAAA,QAAA,GAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,UAAA,MAAA,GAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EAAA,MAAA,CAAA;AACA,MAAA,MAAA,GAAA,MAAA,CAAA,OAAA,CAAA,SAAA,EAAA,OAAA,CAAA;AACA,UAAA,SAAA,GAAA,YAAA,CAAA,OAAA,CAAA,WAAA,CAAA;AACA,MAAA,SAAA,GAAA,IAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AACA,UAAA,SAAA,GAAA,SAAA,CAAA,KAAA;;AACA,UAAA,SAAA,CAAA,KAAA,IAAA,IAAA,EAAA;AACA,QAAA,SAAA,GAAA,IAAA,CADA,CACA;AACA;;AACA,MAAA,CAAA,CAAA,YAAA;AACA,QAAA,UAAA,CAAA,MAAA,CAAA;AACA,UAAA,SAAA,EAAA,YADA;AAEA,UAAA,WAAA,EAAA,IAFA;AAEA;AACA,UAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAHA;AAIA,UAAA,OAAA,EAAA,QAAA,GAAA,aAAA,GAAA,EAAA,CAAA,GAAA,GAAA,SAAA,GAAA,QAAA,EAJA;AAIA;AACA,UAAA,YAAA,EAAA,QAAA,GAAA,mBAAA,GAAA,EAAA,CAAA,GAAA,GAAA,SAAA,GAAA,QAAA,EALA;AAKA;AACA,UAAA,SAAA,EAAA,MAAA,GAAA,OAAA,GAAA,EAAA,CAAA,GAAA,GAAA,SAAA,GAAA,QAAA,EANA;AAOA,UAAA,WAAA,EAAA,gBAPA;AAQA,UAAA,KAAA,EAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,IARA;AASA,UAAA,IAAA,EAAA,IATA;AAUA,UAAA,SAAA,EAAA;AAVA,SAAA;AAYA,OAbA,CAAA;AAcA,KAxBA;AAyBA,GA7CA;AA8CA,EAAA,SA9CA,uBA8CA;AACA;AACA,IAAA,UAAA,CAAA,cAAA;AACA,IAAA,UAAA,CAAA,OAAA;AACA,QAAA,MAAA,GAAA,QAAA,CAAA,cAAA,CAAA,uBAAA,CAAA;;AACA,QAAA,MAAA,IAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA;AACA;AACA,GAtDA;AAuDA,EAAA,OAAA,EAAA;AAvDA,CAAA","sourcesContent":["<template>\n  <div id=\"luckysheet\"\n      style=\"margin:0px;padding:0px;position:absolute;width:100%;left: 0px;top: 0px;bottom:0px;height:100%;display:block;\"\n    ></div>\n</template>\n\n<script>\nimport { title } from '@/settings';\nimport { getToken } from '@/utils/auth';\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'LuckySheet',\n  props: {\n    msg: String\n  },\n  data(){\n    return {\n      selected:\"\",\n      isMaskShow: false,\n      gridKey: this.$route.params.name,\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'uid'\n    ])\n  },\n  mounted() {\n    var vm = this\n    // In some cases, you need to use $nextTick\n    this.$nextTick(() => {\n      var baseHost = process.env.VUE_APP_BASE_API\n      var wsHost = baseHost.replace(\"8000\", \"8001\")\n      wsHost = wsHost.replace(\"http://\", \"ws://\")\n      var groupInfo = localStorage.getItem(\"groupInfo\")\n      groupInfo = JSON.parse(groupInfo)\n      var allowEdit = groupInfo.IsDev\n      if (groupInfo.IsDev == null) {\n        allowEdit = true // TODO:: 临时打开线上环境的编辑权限\n      }\n      $(function () {\n        luckysheet.create({\n          container: \"luckysheet\",\n          allowUpdate: true, //是否允许编辑后的后台更新\n          gridKey: vm.$route.params.id,\n          loadUrl: baseHost + \"/excel?uid=\"+vm.uid+\"&token=\"+getToken(), // 配置loadUrl的地址，luckysheet会通过ajax请求表格数据，默认载入status为1的sheet数据中的所有data，其余的sheet载入除data字段外的所有字段\n          loadSheetUrl: baseHost + \"/excel/sheet?uid=\"+vm.uid+\"&token=\"+getToken(), //配置loadSheetUrl的地址，参数为gridKey（表格主键） 和 index（sheet主键合集，格式为[1,2,3]），返回的数据为sheet的data字段数据集合\n          updateUrl: wsHost + \"/uid/\"+vm.uid+\"/token/\"+getToken(),\n          myFolderUrl: \"#/config/index\",\n          title: vm.$route.params.name,\n          lang: \"zh\",\n          allowEdit: allowEdit,\n        });\n      });\n    });\n  },\n  destroyed () {\n    // console.log(luckysheet)\n    luckysheet.closeWebsocket()\n    luckysheet.destroy()\n    var retTip = document.getElementById(\"luckysheet-tooltip-up\")\n    if (retTip != null) {\n      retTip.remove()\n    }\n  },\n  methods:{\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"sourceRoot":"src/views/LuckySheet"}]}