{"remainingRequest":"/Users/Fandy/go/src/excel2config/front/node_modules/babel-loader/lib/index.js!/Users/Fandy/go/src/excel2config/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Fandy/go/src/excel2config/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Fandy/go/src/excel2config/front/src/views/table/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Fandy/go/src/excel2config/front/src/views/table/index.vue","mtime":1619522402170},{"path":"/Users/Fandy/go/src/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/go/src/excel2config/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Fandy/go/src/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/go/src/excel2config/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9GYW5keS9nby9zcmMvZXhjZWwyY29uZmlnL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL0ZhbmR5L2dvL3NyYy9leGNlbDJjb25maWcvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRMaXN0LCBkZWxldGVFeGNlbCwgdXBkYXRlRXhjZWwsIGFkZEV4Y2VsLCBleHBvcnRFeGNlbCwgZ2V0U2hlZXRMaXN0LCBleHBvcnRFeGNlbFByb2QgfSBmcm9tICdAL2FwaS9zaGVldCc7CmltcG9ydCB7IHNlYXJjaFVzZXIgfSBmcm9tICdAL2FwaS91c2VyJzsKaW1wb3J0IHsgZ3JvdXBVcGRhdGUsIGdyb3VwVGVzdENvbm5lY3Rpb24sIGdldENvbmZpZ0Zyb21EQiwgZXhwb3J0Q29uZmlnVG9EQiwgZ2VuZXJhdGVBcHBLZXlTZWNyZXQsIGdyb3VwTGlzdCwgc3luY1RvUHJvZCwgZXhwb3J0UmVjb3JkLCBleHBvcnRSZWNvcmRDb250ZW50LCBleHBvcnRSb2xsYmFjayB9IGZyb20gJ0AvYXBpL2dyb3VwJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBkZWVwQ2xvbmUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IENvZGVEaWZmIGZyb20gJ0AvY29tcG9uZW50cy92dWUtY29kZS1kaWZmJzsKaW1wb3J0IHsgTWVzc2FnZUJveCB9IGZyb20gJ2VsZW1lbnQtdWknOwp2YXIgZGVmYXVsdEV4Y2VsID0gewogIGlkOiAnJywKICBuYW1lOiAnJywKICBvd25lcjogJycsCiAgcmVtYXJrOiAnJywKICBjcmVhdGVfdGltZTogJycsCiAgdXBkYXRlX3RpbWU6ICcnCn07CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb2RlRGlmZjogQ29kZURpZmYKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsndWlkJywgJ25hbWUnXSkpLAogIGZpbHRlcnM6IHsKICAgIHN0YXR1c0ZpbHRlcjogZnVuY3Rpb24gc3RhdHVzRmlsdGVyKHN0YXR1cykgewogICAgICB2YXIgc3RhdHVzTWFwID0gewogICAgICAgIHB1Ymxpc2hlZDogJ3N1Y2Nlc3MnLAogICAgICAgIGRyYWZ0OiAnZ3JheScsCiAgICAgICAgZGVsZXRlZDogJ2RhbmdlcicKICAgICAgfTsKICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdOwogICAgfSwKICAgIGRhdGVGaWx0ZXI6IGZ1bmN0aW9uIGRhdGVGaWx0ZXIoZGF0ZXRpbWUpIHsKICAgICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KGRhdGV0aW1lKSAqIDEwMDApLnRvTG9jYWxlU3RyaW5nKCkucmVwbGFjZSgvOlxkezEsMn0kLywgJyAnKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleGNlbDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEV4Y2VsKSwKICAgICAgbGlzdDogW10sCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBkaWFsb2dMb2FkaW5nOiBmYWxzZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1R5cGU6ICduZXcnLAogICAgICBleHBvcnREaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgZXhwb3J0Rm9ybWF0OiAnJywKICAgICAgZm9ybToge30sCiAgICAgIGdyb3VwSW5mbzogewogICAgICAgIG5hbWU6ICfotKrlkIPom4flpKfkvZzmiJgnLAogICAgICAgIHJlbWFyazogJ+i/meaYr+i0quWQg+ibh+Wkp+S9nOaImEFwcOmhueebricsCiAgICAgICAgYXZhdGFyOiByZXF1aXJlKCcuLi8uLi9pY29ucy90YW5jaGlzaGUtaWNvbi5wbmcnKSwKICAgICAgICBzdG9yZTogW10KICAgICAgfSwKICAgICAgc3RvcmVPcHRpb25zOiBbewogICAgICAgIGtleTogMSwKICAgICAgICBuYW1lOiAnUmVkaXMnCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDIsCiAgICAgICAgbmFtZTogJ015c3FsJwogICAgICB9LCAvLyB7a2V5OiAnTW9uZ29kYicsIG5hbWU6ICdNb25nb2RiJ30sCiAgICAgIHsKICAgICAgICBrZXk6IDQsCiAgICAgICAgbmFtZTogJ0RhdGFidXMnCiAgICAgIH1dLAogICAgICBhZGRNZW1iZXJkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2VhcmNoVXNlck5hbWU6ICcnLAogICAgICBzZWFyY2hVaWQ6ICcnLAogICAgICBjb21wYXJlVmlzYWJsZTogZmFsc2UsCiAgICAgIHNoZWV0TGlzdDogW10sCiAgICAgIHNsZWVjdGVkU2hlZXQ6ICcnLAogICAgICBleHBvcnRQcm9kRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGV4cG9ydFJlY29yZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RSZWNvcmRJZDogJycsCiAgICAgIHJlY29yZExpc3Q6IFtdLAogICAgICBleHBvcnRSZW1hcms6ICcnLAogICAgICBjb250ZXh0Um93TGVuZ3RoOiAxMCwKICAgICAgY29kZURpZmZEYXRhOiB7CiAgICAgICAgYmVmb3JlRXhwb3J0U3RyOiAnJywKICAgICAgICBleHBvcnRTdHI6ICcnLAogICAgICAgIGJlZm9yZUV4cG9ydFByb2RTdHI6ICcnLAogICAgICAgIGV4cG9ydFByb2RTdHI6ICcnLAogICAgICAgIGJlZm9yZUV4cG9ydFJlY29yZFN0cjogJycsCiAgICAgICAgZXhwb3J0UmVjb3JkU3RyOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZXhjZWwub3duZXIgPSB0aGlzLm5hbWU7CiAgICB0aGlzLmZldGNoRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhOiBmdW5jdGlvbiBmZXRjaERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGdyb3VwSW5mbyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdncm91cEluZm8nKTsKICAgICAgZ3JvdXBJbmZvID0gSlNPTi5wYXJzZShncm91cEluZm8pOwogICAgICBjb25zb2xlLmxvZyhncm91cEluZm8pOwoKICAgICAgaWYgKGdyb3VwSW5mbyA9PT0gbnVsbCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvJwogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGdyb3VwSW5mby5zdG9yZSA9PT0gdW5kZWZpbmVkIHx8IGdyb3VwSW5mby5zdG9yZSA9PT0gbnVsbCkgewogICAgICAgIGdyb3VwSW5mby5zdG9yZSA9IFtdOwogICAgICB9CgogICAgICB0aGlzLmdyb3VwSW5mbyA9IGdyb3VwSW5mbzsKICAgICAgZ2V0TGlzdCh7CiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIGdyb3VwX2lkOiBncm91cEluZm8uZ2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGlzdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0OwogICAgICAgIH0KCiAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQWRkRXhjZWw6IGZ1bmN0aW9uIGhhbmRsZUFkZEV4Y2VsKCkgewogICAgICB0aGlzLmV4Y2VsID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdEV4Y2VsKSwgdGhpcy5leGNlbC5vd25lciA9IHRoaXMubmFtZTsKICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ25ldyc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlU3dpdGNoRW52OiBmdW5jdGlvbiBoYW5kbGVTd2l0Y2hFbnYoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRleHQgPSAn5b2T5YmN5aSE5LqO5q2j5byP546v5aKD77yM5piv5ZCm56Gu6K6k5YiH5o2i5Yiw5rWL6K+V546v5aKDJzsKCiAgICAgIGlmICh0aGlzLmdyb3VwSW5mby5Jc0RldikgewogICAgICAgIHRleHQgPSAn5b2T5YmN5aSE5LqO5rWL6K+V546v5aKD77yM5piv5ZCm56Gu6K6k5YiH5o2i5Yiw5q2j5byP546v5aKDJzsKICAgICAgfQoKICAgICAgTWVzc2FnZUJveC5jb25maXJtKHRleHQsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciB1bmlvbkdpZCA9IF90aGlzMi5ncm91cEluZm8uVW5pb25Hcm91cElkOwogICAgICAgIGdyb3VwTGlzdCh1bmlvbkdpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmxpc3QgIT09IHVuZGVmaW5lZCAmJiByZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICBfdGhpczIuZ3JvdXBJbmZvID0gcmVzcG9uc2UuZGF0YS5saXN0WzBdOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ3JvdXBJbmZvJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMyLmdyb3VwSW5mbykpOyAvLyByZWZyZXNoCgogICAgICAgICAgICB2YXIgcGF0aCA9IF90aGlzMi4kcm91dGUucGF0aDsKCiAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6IHBhdGgsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIHQ6ICtuZXcgRGF0ZSgpIC8v5L+d6K+B5q+P5qyh54K55Ye76Lev55Sx55qEcXVlcnnpobnpg73mmK/kuI3kuIDmoLfnmoTvvIznoa7kv53kvJrph43mlrDliLfmlrB2aWV3CgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczIuZmV0Y2hEYXRhKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5pqC5peg5p2D6ZmQ77yM6K+36IGU57O7566h55CG5ZGY5re75Yqg5p2D6ZmQJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAogICAgY29uZmlybUV4Y2VsOiBmdW5jdGlvbiBjb25maXJtRXhjZWwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaXNFZGl0LCBpbmRleCwgcGFyYW1zLCBfeWllbGQkYWRkRXhjZWwsIGRhdGEsIHRpbWVzdGFtcCwgX3RoaXMzJGV4Y2VsLCBpZCwgbmFtZSwgcmVtYXJrOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczMuZXhjZWwubmFtZS5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXlkI3np7AnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaXNFZGl0ID0gX3RoaXMzLmRpYWxvZ1R5cGUgPT09ICdlZGl0JzsKCiAgICAgICAgICAgICAgICBpZiAoIWlzRWRpdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUV4Y2VsKF90aGlzMy5leGNlbCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGluZGV4ID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKCEoaW5kZXggPCBfdGhpczMubGlzdC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmxpc3RbaW5kZXhdLmlkID09PSBfdGhpczMuZXhjZWwuaWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLmxpc3Quc3BsaWNlKGluZGV4LCAxLCBPYmplY3QuYXNzaWduKHt9LCBfdGhpczMuZXhjZWwpKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJicmVhayIsIDE1KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfdGhpczMuZXhjZWw7CiAgICAgICAgICAgICAgICBwYXJhbXMudWlkID0gX3RoaXMzLnVpZDsKICAgICAgICAgICAgICAgIHBhcmFtcy5ncm91cF9pZCA9IF90aGlzMy5ncm91cEluZm8uZ2lkOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFkZEV4Y2VsKHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfeWllbGQkYWRkRXhjZWwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRhZGRFeGNlbC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMzLmV4Y2VsLmlkID0gZGF0YS5laWQ7CiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIF90aGlzMy5leGNlbC5jcmVhdGVUaW1lID0gdGltZXN0YW1wIC8gMTAwMDsKICAgICAgICAgICAgICAgIF90aGlzMy5leGNlbC5lZGl0VGltZSA9IHRpbWVzdGFtcCAvIDEwMDA7CgogICAgICAgICAgICAgICAgX3RoaXMzLmxpc3QucHVzaChfdGhpczMuZXhjZWwpOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgICAgX3RoaXMzJGV4Y2VsID0gX3RoaXMzLmV4Y2VsLCBpZCA9IF90aGlzMyRleGNlbC5pZCwgbmFtZSA9IF90aGlzMyRleGNlbC5uYW1lLCByZW1hcmsgPSBfdGhpczMkZXhjZWwucmVtYXJrOwogICAgICAgICAgICAgICAgX3RoaXMzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIlxuICAgICAgICAgICAgPGRpdj5cdTU0MERcdTc5RjA6ICIuY29uY2F0KG5hbWUsICI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XHU1OTA3XHU2Q0U4OiAiKS5jb25jYXQocmVtYXJrLCAiPC9kaXY+XG4gICAgICAgICAgIiksCiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChzY29wZSkgewogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAnZWRpdCc7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuY2hlY2tTdHJpY3RseSA9IHRydWU7CiAgICAgIHRoaXMuZXhjZWwgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShfcmVmKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyICRpbmRleCA9IF9yZWYuJGluZGV4LAogICAgICAgICAgcm93ID0gX3JlZi5yb3c7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuWIoOmZpOihqOagvOWQlz8nLCAnV2FybmluZycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlRXhjZWwoewogICAgICAgICAgICAgICAgICBpZDogcm93LmlkLAogICAgICAgICAgICAgICAgICBuYW1lOiByb3cubmFtZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNC5saXN0LnNwbGljZSgkaW5kZXgsIDEpOwoKICAgICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFeHBvcnQ6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydChzY29wZSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuZXhjZWwgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgICAgdGhpcy5leHBvcnREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zaGVldExpc3QgPSBbXTsKICAgICAgdGhpcy5jb2RlRGlmZkRhdGEuYmVmb3JlRXhwb3J0U3RyID0gJyc7CiAgICAgIHRoaXMuY29kZURpZmZEYXRhLmV4cG9ydFN0ciA9ICcnOwogICAgICB0aGlzLmV4cG9ydFJlbWFyayA9ICcnOwogICAgICB0aGlzLmRpYWxvZ0xvYWRpbmcgPSB0cnVlOwogICAgICBnZXRTaGVldExpc3QoewogICAgICAgIGdyaWRLZXk6IHRoaXMuZXhjZWwuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXM1LnNoZWV0TGlzdCA9IHJlc3BvbnNlLmRhdGEuc2hlZXROYW1lOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXM1LnNoZWV0TGlzdCk7CgogICAgICAgICAgaWYgKF90aGlzNS5zaGVldExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICBfdGhpczUuc2xlZWN0ZWRTaGVldCA9IF90aGlzNS5zaGVldExpc3RbMF07CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM1LmdldEV4Y2VsU2hlZXRDb250ZW50KF90aGlzNS5leGNlbC5pZCwgX3RoaXM1LnNsZWVjdGVkU2hlZXQpOwoKICAgICAgICAgIF90aGlzNS5nZXRFeGNlbFNoZWV0RnJvbURCKF90aGlzNS5leGNlbC5pZCwgX3RoaXM1LnNsZWVjdGVkU2hlZXQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRXhwb3J0UHJvZDogZnVuY3Rpb24gaGFuZGxlRXhwb3J0UHJvZChzY29wZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuZXhjZWwgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgICAgdGhpcy5leHBvcnRQcm9kRGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuc2hlZXRMaXN0ID0gW107CiAgICAgIHRoaXMuY29kZURpZmZEYXRhLmJlZm9yZUV4cG9ydFByb2RTdHIgPSAnJzsKICAgICAgdGhpcy5jb2RlRGlmZkRhdGEuZXhwb3J0UHJvZFN0ciA9ICcnOwogICAgICB0aGlzLmRpYWxvZ0xvYWRpbmcgPSB0cnVlOwogICAgICBnZXRTaGVldExpc3QoewogICAgICAgIGdyaWRLZXk6IHRoaXMuZXhjZWwuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXM2LnNoZWV0TGlzdCA9IHJlc3BvbnNlLmRhdGEuc2hlZXROYW1lOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXM2LnNoZWV0TGlzdCk7CgogICAgICAgICAgaWYgKF90aGlzNi5zaGVldExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICBfdGhpczYuc2xlZWN0ZWRTaGVldCA9IF90aGlzNi5zaGVldExpc3RbMF07CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM2LmdldEV4Y2VsU2hlZXRDb250ZW50KF90aGlzNi5leGNlbC5pZCwgX3RoaXM2LnNsZWVjdGVkU2hlZXQpOwoKICAgICAgICAgIF90aGlzNi5nZXRFeGNlbFNoZWV0RnJvbVByb2QoX3RoaXM2LmV4Y2VsLmlkLCBfdGhpczYuc2xlZWN0ZWRTaGVldCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVFeHBvcnRSZWNvcmQ6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydFJlY29yZChzY29wZSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHRoaXMuZXhjZWwgPSBkZWVwQ2xvbmUoc2NvcGUucm93KTsKICAgICAgdGhpcy5leHBvcnRSZWNvcmREaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5zaGVldExpc3QgPSBbXTsKICAgICAgdGhpcy5leHBvcnRSZWNvcmQgPSBbXTsKICAgICAgdGhpcy5jb2RlRGlmZkRhdGEuYmVmb3JlRXhwb3J0UmVjb3JkU3RyID0gJyc7CiAgICAgIHRoaXMuY29kZURpZmZEYXRhLmV4cG9ydFJlY29yZFN0ciA9ICcnOwogICAgICB0aGlzLmRpYWxvZ0xvYWRpbmcgPSB0cnVlOwogICAgICBnZXRTaGVldExpc3QoewogICAgICAgIGdyaWRLZXk6IHRoaXMuZXhjZWwuaWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXM3LnNoZWV0TGlzdCA9IHJlc3BvbnNlLmRhdGEuc2hlZXROYW1lOwogICAgICAgICAgY29uc29sZS5sb2coX3RoaXM3LnNoZWV0TGlzdCk7CgogICAgICAgICAgaWYgKF90aGlzNy5zaGVldExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgICBfdGhpczcuc2xlZWN0ZWRTaGVldCA9IF90aGlzNy5zaGVldExpc3RbMF07CiAgICAgICAgICB9IC8vIOiOt+WPlnJlY29yZCBsaXN0CgoKICAgICAgICAgIF90aGlzNy5nZXRSZWNvcmRMaXN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRSZWNvcmRMaXN0OiBmdW5jdGlvbiBnZXRSZWNvcmRMaXN0KCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIGV4cG9ydFJlY29yZCh7CiAgICAgICAgZ3JpZEtleTogdGhpcy5leGNlbC5pZCwKICAgICAgICBzaGVldE5hbWU6IHRoaXMuc2xlZWN0ZWRTaGVldAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YSAhPT0gbnVsbCkgewogICAgICAgICAgX3RoaXM4LnJlY29yZExpc3QgPSByZXNwLmRhdGEubGlzdDsKICAgICAgICB9CgogICAgICAgIGlmIChfdGhpczgucmVjb3JkTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczguc2VsZWN0UmVjb3JkSWQgPSBfdGhpczgucmVjb3JkTGlzdFswXS5pZDsKICAgICAgICB9CgogICAgICAgIF90aGlzOC5yZWZyZXNoUmVjb3JkQ29udGVudCgpOwogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoUmVjb3JkQ29udGVudDogZnVuY3Rpb24gcmVmcmVzaFJlY29yZENvbnRlbnQoKSB7CiAgICAgIHZhciBsYXN0UmVjb3JkSWQgPSAnJzsgLy8g5Yik5pat5piv5ZCm5pyJ5LiK5LiA5LiqcmVjb3JkCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVjb3JkTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnJlY29yZExpc3RbaV0uaWQgPT09IHRoaXMuc2VsZWN0UmVjb3JkSWQpIHsKICAgICAgICAgIGlmIChpICsgMSA8IHRoaXMucmVjb3JkTGlzdC5sZW5ndGgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlY29yZO+8micsIHRoaXMucmVjb3JkTGlzdFtpICsgMV0pOwogICAgICAgICAgICBsYXN0UmVjb3JkSWQgPSB0aGlzLnJlY29yZExpc3RbaSArIDFdLmlkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5nZXRFeGNlbFNoZWV0RnJvbVJlY29yZCh0aGlzLmV4Y2VsLmlkLCB0aGlzLnNsZWVjdGVkU2hlZXQsIHRoaXMuc2VsZWN0UmVjb3JkSWQpOwogICAgICB0aGlzLmdldEV4Y2VsU2hlZXRGcm9tUmVjb3JkKHRoaXMuZXhjZWwuaWQsIHRoaXMuc2xlZWN0ZWRTaGVldCwgbGFzdFJlY29yZElkKTsKICAgIH0sCiAgICBnZXRFeGNlbFNoZWV0Q29udGVudDogZnVuY3Rpb24gZ2V0RXhjZWxTaGVldENvbnRlbnQoZ3JpZEtleSwgc2hlZXROYW1lKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgX3lpZWxkJGV4cG9ydEV4Y2VsLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM5LmNvZGVEaWZmRGF0YS5leHBvcnRTdHIgPSAnJzsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHt9OwogICAgICAgICAgICAgICAgcGFyYW1zLmdyaWRLZXkgPSBncmlkS2V5OwogICAgICAgICAgICAgICAgcGFyYW1zLnNoZWV0TmFtZSA9IHNoZWV0TmFtZTsKICAgICAgICAgICAgICAgIHBhcmFtcy5mb3JtYXQgPSAnanNvbic7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0RXhjZWwocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3lpZWxkJGV4cG9ydEV4Y2VsID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGV4cG9ydEV4Y2VsLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuanNvbnN0ciAhPT0gdW5kZWZpbmVkICYmIGRhdGEuanNvbnN0ci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5jb2RlRGlmZkRhdGEuZXhwb3J0U3RyID0gZGF0YS5qc29uc3RyOwogICAgICAgICAgICAgICAgICBfdGhpczkuY29kZURpZmZEYXRhLmV4cG9ydFByb2RTdHIgPSBkYXRhLmpzb25zdHI7CiAgICAgICAgICAgICAgICAgIF90aGlzOS5kaWFsb2dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRFeGNlbFNoZWV0RnJvbURCOiBmdW5jdGlvbiBnZXRFeGNlbFNoZWV0RnJvbURCKGdyaWRLZXksIHNoZWV0TmFtZSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgcGFyYW1zLCBfeWllbGQkZ2V0Q29uZmlnRnJvbUQsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczEwLmNvZGVEaWZmRGF0YS5iZWZvcmVFeHBvcnRTdHIgPSAnJzsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHt9OwogICAgICAgICAgICAgICAgcGFyYW1zLmdyaWRLZXkgPSBncmlkS2V5OwogICAgICAgICAgICAgICAgcGFyYW1zLnNoZWV0TmFtZSA9IHNoZWV0TmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb25maWdGcm9tREIocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3lpZWxkJGdldENvbmZpZ0Zyb21EID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldENvbmZpZ0Zyb21ELmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuanNvbnN0ciAhPT0gdW5kZWZpbmVkICYmIGRhdGEuanNvbnN0ci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTAuY29kZURpZmZEYXRhLmJlZm9yZUV4cG9ydFN0ciA9IGRhdGEuanNvbnN0cjsKICAgICAgICAgICAgICAgICAgX3RoaXMxMC5kaWFsb2dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEV4Y2VsU2hlZXRGcm9tUHJvZDogZnVuY3Rpb24gZ2V0RXhjZWxTaGVldEZyb21Qcm9kKGdyaWRLZXksIHNoZWV0TmFtZSkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgcGFyYW1zLCBfeWllbGQkZXhwb3J0RXhjZWxQcm8sIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczExLmNvZGVEaWZmRGF0YS5iZWZvcmVFeHBvcnRQcm9kU3RyID0gJyc7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSB7fTsKICAgICAgICAgICAgICAgIHBhcmFtcy5ncmlkS2V5ID0gZ3JpZEtleTsKICAgICAgICAgICAgICAgIHBhcmFtcy5zaGVldE5hbWUgPSBzaGVldE5hbWU7CiAgICAgICAgICAgICAgICBwYXJhbXMuZm9ybWF0ID0gJ2pzb24nOwogICAgICAgICAgICAgICAgcGFyYW1zLmdpZCA9IF90aGlzMTEuZ3JvdXBJbmZvLmdpZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRFeGNlbFByb2QocGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3lpZWxkJGV4cG9ydEV4Y2VsUHJvID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGV4cG9ydEV4Y2VsUHJvLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEuanNvbnN0ciAhPT0gdW5kZWZpbmVkICYmIGRhdGEuanNvbnN0ci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuY29kZURpZmZEYXRhLmJlZm9yZUV4cG9ydFByb2RTdHIgPSBkYXRhLmpzb25zdHI7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuZGlhbG9nTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RXhjZWxTaGVldEZyb21SZWNvcmQ6IGZ1bmN0aW9uIGdldEV4Y2VsU2hlZXRGcm9tUmVjb3JkKGdyaWRLZXksIHNoZWV0TmFtZSwgcmVjb3JkSWQpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgX3lpZWxkJGV4cG9ydFJlY29yZENvLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHJlY29yZElkID09PSBfdGhpczEyLnNlbGVjdFJlY29yZElkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTIuY29kZURpZmZEYXRhLmV4cG9ydFJlY29yZFN0ciA9ICcnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jb2RlRGlmZkRhdGEuYmVmb3JlRXhwb3J0UmVjb3JkU3RyID0gJyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEocmVjb3JkSWQubGVuZ3RoID09PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcGFyYW1zID0ge307CiAgICAgICAgICAgICAgICBwYXJhbXMuZ3JpZEtleSA9IGdyaWRLZXk7CiAgICAgICAgICAgICAgICBwYXJhbXMuc2hlZXROYW1lID0gc2hlZXROYW1lOwogICAgICAgICAgICAgICAgcGFyYW1zLnJlY29yZElkID0gcmVjb3JkSWQ7CiAgICAgICAgICAgICAgICBwYXJhbXMuZm9ybWF0ID0gJ2pzb24nOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBleHBvcnRSZWNvcmRDb250ZW50KHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfeWllbGQkZXhwb3J0UmVjb3JkQ28gPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZXhwb3J0UmVjb3JkQ28uZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5qc29uc3RyICE9PSB1bmRlZmluZWQgJiYgZGF0YS5qc29uc3RyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlY29yZElkID09PSBfdGhpczEyLnNlbGVjdFJlY29yZElkKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5jb2RlRGlmZkRhdGEuZXhwb3J0UmVjb3JkU3RyID0gZGF0YS5qc29uc3RyOwogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuZGlhbG9nTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuY29kZURpZmZEYXRhLmJlZm9yZUV4cG9ydFJlY29yZFN0ciA9IGRhdGEuanNvbnN0cjsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLmRpYWxvZ0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlUm9sbEJhY2s6IGZ1bmN0aW9uIGhhbmRsZVJvbGxCYWNrKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICB2YXIgdGV4dCA9ICfmgqjlvZPliY3pgInmi6nnmoTphY3nva7ooajmmK8gXCInICsgdGhpcy5zbGVlY3RlZFNoZWV0ICsgJ1wiLCDnoa7orqTopoHlm57pgIDniYjmnKzlkJfvvJ8nOwogICAgICBNZXNzYWdlQm94LmNvbmZpcm0odGV4dCwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHBhcmFtcyA9IHt9OwogICAgICAgIHBhcmFtcy5ncmlkS2V5ID0gX3RoaXMxMy5leGNlbC5pZDsKICAgICAgICBwYXJhbXMuc2hlZXROYW1lID0gX3RoaXMxMy5zbGVlY3RlZFNoZWV0OwogICAgICAgIHBhcmFtcy5yZWNvcmRJZCA9IF90aGlzMTMuc2VsZWN0UmVjb3JkSWQ7CiAgICAgICAgZXhwb3J0Um9sbGJhY2socGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgIT09IDApIHsKICAgICAgICAgICAgX3RoaXMxMy4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+WbnumAgOWksei0pScsCiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubXNnLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczEzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn5Zue6YCA5oiQ5YqfJywKICAgICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMxMy5leHBvcnRSZWNvcmREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU2VsZWN0ZWRTaGVldENoYW5nZTogZnVuY3Rpb24gb25TZWxlY3RlZFNoZWV0Q2hhbmdlKGUpIHsKICAgICAgdGhpcy5kaWFsb2dMb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmIChlID09PSAxKSB7CiAgICAgICAgLy8g5Y+R5biD5by556qXCiAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgICAgdGhpcy5nZXRFeGNlbFNoZWV0Q29udGVudCh0aGlzLmV4Y2VsLmlkLCB0aGlzLnNsZWVjdGVkU2hlZXQpOwogICAgICAgIHRoaXMuZ2V0RXhjZWxTaGVldEZyb21EQih0aGlzLmV4Y2VsLmlkLCB0aGlzLnNsZWVjdGVkU2hlZXQpOwogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChlID09PSAyKSB7CiAgICAgICAgLy8g5ZCM5q2l5by556qXCiAgICAgICAgdGhpcy5nZXRFeGNlbFNoZWV0Q29udGVudCh0aGlzLmV4Y2VsLmlkLCB0aGlzLnNsZWVjdGVkU2hlZXQpOwogICAgICAgIHRoaXMuZ2V0RXhjZWxTaGVldEZyb21Qcm9kKHRoaXMuZXhjZWwuaWQsIHRoaXMuc2xlZWN0ZWRTaGVldCk7CiAgICAgIH0gZWxzZSBpZiAoZSA9PT0gMykgewogICAgICAgIC8v5Y+R5biD6K6w5b2V5by556qXCiAgICAgICAgdGhpcy5zZWxlY3RSZWNvcmRJZCA9ICcnOwogICAgICAgIHRoaXMuY29kZURpZmZEYXRhLmJlZm9yZUV4cG9ydFJlY29yZFN0ciA9ICcnOwogICAgICAgIHRoaXMuY29kZURpZmZEYXRhLmV4cG9ydFJlY29yZFN0ciA9ICcnOwogICAgICAgIHRoaXMucmVjb3JkTGlzdCA9IFtdOwogICAgICAgIHRoaXMuZ2V0UmVjb3JkTGlzdCgpOwogICAgICB9CiAgICB9LAogICAgb25TZWxlY3RSZWNvcmRDaGFuZ2U6IGZ1bmN0aW9uIG9uU2VsZWN0UmVjb3JkQ2hhbmdlKGUpIHsKICAgICAgY29uc29sZS5sb2coJ3NlbGVjdCByZWNvcmQgY2hhbmdlZCcpOwogICAgICB0aGlzLnJlZnJlc2hSZWNvcmRDb250ZW50KCk7CiAgICB9LAogICAgY29uZmlybUV4cG9ydDogZnVuY3Rpb24gY29uZmlybUV4cG9ydCgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZXhwb3J0UmVtYXJrLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+WPkeW4g+Wksei0pScsCiAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5Y+R5biD5YaF5a65JywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0ZXh0ID0gJ+aCqOW9k+WJjemAieaLqeeahOmFjee9ruihqOaYryBcIicgKyB0aGlzLnNsZWVjdGVkU2hlZXQgKyAnXCIsIOS/ruaUueWkh+azqOS4uiBcIicgKyB0aGlzLmV4cG9ydFJlbWFyayArICdcIiwg56Gu6K6k5Y+R5biD5ZCX77yfJzsKCiAgICAgIGlmICghdGhpcy5ncm91cEluZm8uSXNEZXYpIHsKICAgICAgICB0ZXh0ID0gJ+W9k+WJjeWkhOS6juato+W8j+eOr+WigywgJyArIHRleHQ7CiAgICAgIH0KCiAgICAgIE1lc3NhZ2VCb3guY29uZmlybSh0ZXh0LCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHt9OwogICAgICAgIHBhcmFtcy5ncmlkS2V5ID0gX3RoaXMxNC5leGNlbC5pZDsKICAgICAgICBwYXJhbXMuc2hlZXROYW1lID0gX3RoaXMxNC5zbGVlY3RlZFNoZWV0OwogICAgICAgIHBhcmFtcy5yZW1hcmsgPSBfdGhpczE0LmV4cG9ydFJlbWFyazsKICAgICAgICBleHBvcnRDb25maWdUb0RCKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAwKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlICE9PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMxNC4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5Y+R5biD5aSx6LSlJywKICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubXNnLAogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMTQuJG5vdGlmeSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+WPkeW4g+aIkOWKnycsCiAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpczE0LmV4cG9ydERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtRXhwb3J0UHJvZDogZnVuY3Rpb24gY29uZmlybUV4cG9ydFByb2QoKSB7CiAgICAgIHZhciBfdGhpczE1ID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7fTsKICAgICAgcGFyYW1zLmdyaWRLZXkgPSB0aGlzLmV4Y2VsLmlkOwogICAgICBwYXJhbXMuc2hlZXROYW1lID0gdGhpcy5zbGVlY3RlZFNoZWV0OwogICAgICBwYXJhbXMuZ2lkID0gdGhpcy5ncm91cEluZm8uZ2lkOwogICAgICBzeW5jVG9Qcm9kKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMCkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgIT09IDApIHsKICAgICAgICAgICAgX3RoaXMxNS4kbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogJ+WQjOatpeWksei0pScsCiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubXNnLAogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczE1LiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAn5ZCM5q2l5oiQ5YqfJywKICAgICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMxNS5leHBvcnRQcm9kRGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0SnNvbkZpbGU6IGZ1bmN0aW9uIGV4cG9ydEpzb25GaWxlKCkgewogICAgICB0aGlzLmRvd25sb2FkSnNvbkZpbGUodGhpcy5jb2RlRGlmZkRhdGEuYmVmb3JlRXhwb3J0U3RyLCB0aGlzLnNsZWVjdGVkU2hlZXQgKyAnLmpzb24nKTsKICAgIH0sCiAgICBkb3dubG9hZEpzb25GaWxlOiBmdW5jdGlvbiBkb3dubG9hZEpzb25GaWxlKGNvbnRlbnQsIGZpbGVuYW1lKSB7CiAgICAgIHZhciBlbGVMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICBlbGVMaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7CiAgICAgIGVsZUxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8g5a2X56ym5YaF5a656L2s5Y+Y5oiQYmxvYuWcsOWdgAoKICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0pOwogICAgICBlbGVMaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOyAvLyDop6blj5Hngrnlh7sKCiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlTGluayk7CiAgICAgIGVsZUxpbmsuY2xpY2soKTsgLy8g54S25ZCO56e76ZmkCgogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsZUxpbmspOwogICAgfSwKICAgIHNhdmVHcm91cENvbmZpZzogZnVuY3Rpb24gc2F2ZUdyb3VwQ29uZmlnKCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICBncm91cFVwZGF0ZSh7CiAgICAgICAgaWQ6IHRoaXMuZ3JvdXBJbmZvLmdpZCwKICAgICAgICBncm91cEluZm86IHRoaXMuZ3JvdXBJbmZvCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgIT09IDApIHsKICAgICAgICAgIF90aGlzMTYuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5L+d5a2Y5aSx6LSlJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1zZywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTYuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5L+d5a2Y5oiQ5YqfJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAnJywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ3JvdXBJbmZvJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMxNi5ncm91cEluZm8pKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZEF2YXRhcjogZnVuY3Rpb24gdXBsb2FkQXZhdGFyKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXMgfHwgZS5kYXRhVHJhbnNmZXIuZmlsZXM7CgogICAgICBpZiAodGhpcy5jaGVja0ZpbGUoZmlsZXNbMF0pKSB7CiAgICAgICAgdGhpcy5zZXRTb3VyY2VJbWcoZmlsZXNbMF0pOwogICAgICB9CiAgICB9LAoKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIIKICAgIGNoZWNrRmlsZTogZnVuY3Rpb24gY2hlY2tGaWxlKGZpbGUpIHsKICAgICAgdmFyIGxhbmcgPSB0aGlzLmxhbmcsCiAgICAgICAgICBtYXhTaXplID0gdGhpcy5tYXhTaXplOyAvLyDku4XpmZDlm77niYcKCiAgICAgIGlmIChmaWxlLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gLTEpIHsKICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTXNnID0gbGFuZy5lcnJvci5vbmx5SW1nOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSAvLyDotoXlh7rlpKflsI8KCgogICAgICBpZiAoZmlsZS5zaXplIC8gMTAyNCA+IG1heFNpemUpIHsKICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICB0aGlzLmVycm9yTXNnID0gbGFuZy5lcnJvci5vdXRPZlNpemUgKyBtYXhTaXplICsgJ2tiJzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIHNldFNvdXJjZUltZzogZnVuY3Rpb24gc2V0U291cmNlSW1nKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMTcgPSB0aGlzOwoKICAgICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMxNy5ncm91cEluZm8uYXZhdGFyID0gZnIucmVzdWx0OwogICAgICB9OwoKICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICBpbkFycmF5OiBmdW5jdGlvbiBpbkFycmF5KGFyciwgdGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgaW4gYXJyKSB7CiAgICAgICAgaWYgKGFycltpXSA9PT0gdGFyZ2V0KSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICB0ZXN0UmVkaXNDb25uZWN0aW9uOiBmdW5jdGlvbiB0ZXN0UmVkaXNDb25uZWN0aW9uKGUpIHsKICAgICAgdmFyIF90aGlzMTggPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBkc25UeXBlOiAxLAogICAgICAgIGRzbjogdGhpcy5ncm91cEluZm8uUmVkaXNEU04sCiAgICAgICAgcHdkOiB0aGlzLmdyb3VwSW5mby5SZWRpc1Bhc3N3b3JkCiAgICAgIH07CiAgICAgIGdyb3VwVGVzdENvbm5lY3Rpb24ocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbm5lY3RlZCA9PT0gMCB8fCByZXNwb25zZS5kYXRhLmNvbm5lY3RlZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpczE4LiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ1JlZGlz6L+e5o6l5aSx6LSlJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiXHU4QkY3XHU2OEMwXHU2N0U1RFNOXHU5MTREXHU3RjZFXHU2MjE2XHU4MDA1SVBcdTc2N0RcdTU0MERcdTUzNTVcdTkxNERcdTdGNkUiLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMTguJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnUmVkaXPov57mjqXmiJDlip8nLAogICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdGVzdE15c3FsQ29ubmVjdGlvbjogZnVuY3Rpb24gdGVzdE15c3FsQ29ubmVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzMTkgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBkc25UeXBlOiAyLAogICAgICAgIGRzbjogdGhpcy5ncm91cEluZm8uTXlzcWxEU04KICAgICAgfTsKICAgICAgZ3JvdXBUZXN0Q29ubmVjdGlvbihwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29ubmVjdGVkID09PSAwIHx8IHJlc3BvbnNlLmRhdGEuY29ubmVjdGVkID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIF90aGlzMTkuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnTXlzcWzov57mjqXlpLHotKUnLAogICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJcdThCRjdcdTY4QzBcdTY3RTVEU05cdTkxNERcdTdGNkVcdTYyMTZcdTgwMDVJUFx1NzY3RFx1NTQwRFx1NTM1NVx1OTE0RFx1N0Y2RSIsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMxOS4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICdNeXNxbOi/nuaOpeaIkOWKnycsCiAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0ZXN0R1JwY0Nvbm5lY3Rpb246IGZ1bmN0aW9uIHRlc3RHUnBjQ29ubmVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzMjAgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBkc25UeXBlOiA0LAogICAgICAgIGRzbjogdGhpcy5ncm91cEluZm8uR3JwY0RTTiwKICAgICAgICBhcHBLZXk6IHRoaXMuZ3JvdXBJbmZvLkdycGNBcHBLZXksCiAgICAgICAgYXBwU2VjcmV0OiB0aGlzLmdyb3VwSW5mby5HcnBjQXBwU2VjcmV0CiAgICAgIH07CiAgICAgIGdyb3VwVGVzdENvbm5lY3Rpb24ocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvbm5lY3RlZCA9PT0gMCB8fCByZXNwb25zZS5kYXRhLmNvbm5lY3RlZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpczIwLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ0RhdGFidXPov57mjqXlpLHotKUnLAogICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJcdThCRjdcdTU0MkZcdTUyQThEYXRhYnVzXHU2NzBEXHU1MkExXHVGRjBDXHU2OEMwXHU2N0U1RFNOXHU1NDhDQXBwS2V5XHUzMDAxQXBwU2VjcmV0XHU5MTREXHU3RjZFIiwKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIwLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ0RhdGFidXPov57mjqXmiJDlip8nLAogICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2VuZXJhdGVBcHBLZXlTZWNyZXRIYW5kbGVyOiBmdW5jdGlvbiBnZW5lcmF0ZUFwcEtleVNlY3JldEhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpczIxID0gdGhpczsKCiAgICAgIHRoaXMuJHNldCh0aGlzLmdyb3VwSW5mbywgJ0dycGNEU04nLCAnJyk7CiAgICAgIGdlbmVyYXRlQXBwS2V5U2VjcmV0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PT0gbnVsbCB8fCByZXNwb25zZS5kYXRhLmFwcEtleSA9PT0gJycgfHwgcmVzcG9uc2UuZGF0YS5hcHBTZWNyZXQgPT09ICcnKSB7CiAgICAgICAgICBfdGhpczIxLiRub3RpZnkoewogICAgICAgICAgICB0aXRsZTogJ+iOt+WPluWksei0pScsCiAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlx1OEJGN1x1ODA1NFx1N0NGQlx1N0JBMVx1NzQwNlx1NTQ1OCIsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyMS4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICfojrflj5bmiJDlip8nLAogICAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJcdThCRjdcdTUzQzJcdTk2MDVcdTY1ODdcdTY4NjNcdTY0MkRcdTVFRkFlMmNkYXRhYnVzXHU2NzBEXHU1MkExXHU1NjY4IiwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIxLiRzZXQoX3RoaXMyMS5ncm91cEluZm8sICdHcnBjQXBwS2V5JywgcmVzcG9uc2UuZGF0YS5hcHBLZXkpOwoKICAgICAgICAgIF90aGlzMjEuJHNldChfdGhpczIxLmdyb3VwSW5mbywgJ0dycGNBcHBTZWNyZXQnLCByZXNwb25zZS5kYXRhLmFwcFNlY3JldCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB0ZXN0TW9uZ29kYkNvbm5lY3Rpb246IGZ1bmN0aW9uIHRlc3RNb25nb2RiQ29ubmVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzMjIgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBkc25UeXBlOiAzLAogICAgICAgIGRzbjogdGhpcy5ncm91cEluZm8uTW9uZ29kYkRTTgogICAgICB9OwogICAgICBncm91cFRlc3RDb25uZWN0aW9uKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb25uZWN0ZWQgPT09IDAgfHwgcmVzcG9uc2UuZGF0YS5jb25uZWN0ZWQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgX3RoaXMyMi4kbm90aWZ5KHsKICAgICAgICAgICAgdGl0bGU6ICdNb25nb2Ri6L+e5o6l5aSx6LSlJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAiXHU4QkY3XHU2OEMwXHU2N0U1RFNOXHU5MTREXHU3RjZFXHU2MjE2XHU4MDA1SVBcdTc2N0RcdTU0MERcdTUzNTVcdTkxNERcdTdGNkUiLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjIuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAnTW9uZ29kYui/nuaOpeaIkOWKnycsCiAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpc0dyb3VwT3duZXI6IGZ1bmN0aW9uIGlzR3JvdXBPd25lcihzY29wZSkgewogICAgICBpZiAodGhpcy5ncm91cEluZm8ub3duZXIgPT09IHRoaXMudWlkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBJbmZvLm93bmVyICE9PSBzY29wZS5yb3cudWlkOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQWRkTWVtYmVyOiBmdW5jdGlvbiBoYW5kbGVBZGRNZW1iZXIoKSB7CiAgICAgIHRoaXMuYWRkTWVtYmVyZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYWRkTWVtYmVyOiBmdW5jdGlvbiBhZGRNZW1iZXIoKSB7CiAgICAgIHZhciBfdGhpczIzID0gdGhpczsKCiAgICAgIHZhciBleGlzdCA9IGZhbHNlOwogICAgICB0aGlzLmdyb3VwSW5mby5tZW1iZXJzLmZvckVhY2goZnVuY3Rpb24gKG0pIHsKICAgICAgICBpZiAobS51aWQgPT09IF90aGlzMjMuc2VhcmNoVWlkKSB7CiAgICAgICAgICBleGlzdCA9IHRydWU7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChleGlzdCkgewogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ+a3u+WKoOWksei0pScsCiAgICAgICAgICBkYW5nZXJvdXNseVVzZUhUTUxTdHJpbmc6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAiXHU2MjEwXHU1NDU4XHU1REYyXHU1QjU4XHU1NzI4IiwKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuZ3JvdXBJbmZvLm1lbWJlcnMucHVzaCh7CiAgICAgICAgdWlkOiB0aGlzLnNlYXJjaFVpZCwKICAgICAgICB1c2VyTmFtZTogdGhpcy5zZWFyY2hVc2VyTmFtZQogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVHcm91cEluZm8oJ+S/neWtmOaIkOWKnycsICfmt7vliqDmiJDlkZjvvJonICsgdGhpcy5zZWFyY2hVc2VyTmFtZSk7CiAgICAgIHRoaXMuYWRkTWVtYmVyZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZVNlbGVjdDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0KGUpIHsKICAgICAgdGhpcy5zZWFyY2hVaWQgPSBlLmlkOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZU1lbWJlcjogZnVuY3Rpb24gaGFuZGxlRGVsZXRlTWVtYmVyKHNjb3BlKSB7CiAgICAgIHZhciBtZW1iZXJzID0gW107CiAgICAgIHRoaXMuZ3JvdXBJbmZvLm1lbWJlcnMuZm9yRWFjaChmdW5jdGlvbiAobSkgewogICAgICAgIGlmIChtLnVpZCAhPT0gc2NvcGUucm93LnVpZCkgewogICAgICAgICAgbWVtYmVycy5wdXNoKG0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZ3JvdXBJbmZvLm1lbWJlcnMgPSBtZW1iZXJzOwogICAgICB0aGlzLnVwZGF0ZUdyb3VwSW5mbygn5L+d5a2Y5oiQ5YqfJywgJ+WIoOmZpOaIkOWRmO+8micgKyBzY29wZS5yb3cudXNlck5hbWUpOwogICAgfSwKICAgIHVwZGF0ZUdyb3VwSW5mbzogZnVuY3Rpb24gdXBkYXRlR3JvdXBJbmZvKHN1Y2NUaXRsZSwgc3Vzc01zZykgewogICAgICB2YXIgX3RoaXMyNCA9IHRoaXM7CgogICAgICBncm91cFVwZGF0ZSh7CiAgICAgICAgaWQ6IHRoaXMuZ3JvdXBJbmZvLmdpZCwKICAgICAgICBncm91cEluZm86IHRoaXMuZ3JvdXBJbmZvCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgIT09IDApIHsKICAgICAgICAgIF90aGlzMjQuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAn5L+d5a2Y5aSx6LSlJywKICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1zZywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMjQuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiBzdWNjVGl0bGUsCiAgICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogc3Vzc01zZywKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZ3JvdXBJbmZvJywgSlNPTi5zdHJpbmdpZnkoX3RoaXMyNC5ncm91cEluZm8pKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHF1ZXJ5U2VhcmNoQXN5bmM6IGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoQXN5bmMocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIHZhciByZXN1bHRzID0gW107CiAgICAgIHRoaXMuc2VhcmNoVWlkID0gJyc7CgogICAgICBpZiAocXVlcnlTdHJpbmcgPT09ICcnKSB7CiAgICAgICAgY2IocmVzdWx0cyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzZWFyY2hVc2VyKHsKICAgICAgICBuYW1lOiB0aGlzLnNlYXJjaFVzZXJOYW1lCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudXNlckluZm9zID09PSB1bmRlZmluZWQgfHwgcmVzcG9uc2UuZGF0YS51c2VySW5mb3MgPT09IG51bGwpIHsKICAgICAgICAgIGNiKHJlc3VsdHMpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgcmVzcG9uc2UuZGF0YS51c2VySW5mb3MuZm9yRWFjaChmdW5jdGlvbiAodSkgewogICAgICAgICAgcmVzdWx0cy5wdXNoKHsKICAgICAgICAgICAgJ2lkJzogdS51aWQsCiAgICAgICAgICAgICd2YWx1ZSc6IHUudXNlck5hbWUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpOwogICAgICAgIGNiKHJlc3VsdHMpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-tabs type=\"border-card\">\n      <el-tab-pane label=\"配置列表\">\n        <div class=\"operate-box\">\n          <el-button :type=\"groupInfo.IsDev ? 'primary': 'danger'\" @click=\"handleSwitchEnv\">\n            <span v-if=\"groupInfo.IsDev === true\">当前处于测试环境，点击切换到正式环境</span>\n            <span v-else>当前处于正式环境，点击切换到测试环境</span>\n          </el-button>\n          <el-button v-show=\"groupInfo.IsDev\" type=\"primary\" @click=\"handleAddExcel\">添加表格</el-button>\n        </div>\n        <el-table\n          v-loading=\"listLoading\"\n          :data=\"list\"\n          element-loading-text=\"Loading\"\n          border\n          fit\n          highlight-current-row\n          style=\"width: 100%;margin-top:30px;\"\n        >\n          <!-- <el-table-column align=\"center\" label=\"ID\" width=\"210\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.id }}\n            </template>\n          </el-table-column> -->\n          <el-table-column label=\"名称\" width=\"150\">\n            <template slot-scope=\"scope\">\n                <el-link :href=\"'#/config/excel/' + scope.row.name + '/' + scope.row.id\"  type=\"primary\">{{ scope.row.name }}</el-link>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"创建者\"  align=\"center\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.owner }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"备注\"  align=\"center\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.remark }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"创建时间\" width=\"210\" align=\"center\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.createTime | dateFilter }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"编辑时间\" width=\"210\" align=\"center\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.editTime | dateFilter }}\n            </template>\n          </el-table-column>\n          <el-table-column class-name=\"status-col\" label=\"发布\" width=\"300\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"success\" size=\"small\" @click=\"handleExport(scope)\">发布</el-button>\n              <el-button type=\"info\" size=\"small\" @click=\"handleExportRecord(scope)\">记录</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column class-name=\"status-col\" label=\"同步正式环境\" width=\"300\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button v-show=\"groupInfo.IsDev\" type=\"warning\" size=\"small\" @click=\"handleExportProd(scope)\">同步正式环境</el-button>\n            </template>\n          </el-table-column>\n          <el-table-column class-name=\"status-col\" label=\"管理\" width=\"300\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope)\">编辑</el-button>\n              <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-dialog :visible.sync=\"dialogVisible\" :title=\"dialogType==='edit'?'编辑Excel信息':'新增Excel'\">\n          <el-form :model=\"excel\" label-width=\"80px\" label-position=\"left\">\n            <el-form-item label=\"名称\">\n              <el-input v-model=\"excel.name\" placeholder=\"名称\" :disabled=\"dialogType==='edit'\" />\n            </el-form-item>\n            <el-form-item label=\"备注\">\n              <el-input\n                v-model=\"excel.remark\"\n                :autosize=\"{ minRows: 2, maxRows: 4}\"\n                type=\"textarea\"\n                placeholder=\"备注\"\n              />\n            </el-form-item>\n            <el-form-item label=\"创建者\" v-show=\"dialogType==='edit'\">\n              <el-input v-model=\"excel.owner\" placeholder=\"创建者\" disabled />\n            </el-form-item>\n          </el-form>\n          <div style=\"text-align:right;\">\n            <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"confirmExcel\">保存</el-button>\n          </div>\n        </el-dialog>\n\n        <el-dialog :visible.sync=\"exportDialogVisible\" title=\"发布表格内容\" width=\"80%\">\n          <div v-loading=\"dialogLoading\">\n            <div style=\"float: left;width: 50%; padding:20px;\">\n              <el-form label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"选择表格\">\n                  <el-radio-group v-model=\"sleectedSheet\" @change=\"onSelectedSheetChange(1)\">\n                    <el-radio v-for=\"item in sheetList\" :key=\"item\" :label=\"item\" >{{item}} </el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"发布内容\">\n                  <el-input\n                    type=\"textarea\"\n                    autosize\n                    placeholder=\"请输入发布内容\"\n                    v-model=\"exportRemark\">\n                  </el-input>\n                </el-form-item>\n                <el-form-item label=\"导出\">\n                  <el-button type=\"primary\" @click=\"exportJsonFile\">导出JSON</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"float: left;width: 50%;padding:20px;\">\n              <el-form label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"对比设置\">\n                </el-form-item>\n                <el-form-item label=\"差异显示行数\">\n                  <el-input type=\"number\" placeholder=\"10\" v-model.number=\"contextRowLength\"></el-input>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"width: 100%;text-align: center;clear: both;\">\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">修改前版本</p>\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">修改后版本</p>\n            </div>\n            <div style=\"margin-top: 80px;\">\n              <code-diff :old-string=\"codeDiffData.beforeExportStr\" :new-string=\"codeDiffData.exportStr\" :isShowNoChange=\"true\" :renderNothingWhenEmpty=\"false\" outputFormat=\"side-by-side\" :context=\"contextRowLength\" />\n            </div>\n          </div>\n          <div style=\"text-align:right;\">\n            <el-button type=\"danger\" @click=\"exportDialogVisible=false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"confirmExport\">发布</el-button>\n          </div>\n        </el-dialog>\n\n        <el-dialog :visible.sync=\"exportProdDialogVisible\" title=\"同步表格内容到正式环境\" width=\"80%\">\n          <div v-loading=\"dialogLoading\">\n            <div style=\"float: left;width: 50%;padding:20px;\">\n              <el-form :model=\"excel\" label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"选择表格\">\n                  <el-radio-group v-model=\"sleectedSheet\" @change=\"onSelectedSheetChange(2)\">\n                    <el-radio v-for=\"item in sheetList\" :key=\"item\" :label=\"item\" >{{item}} </el-radio>\n                  </el-radio-group>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"float: left;width: 50%;padding:20px;\">\n              <el-form label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"对比设置\">\n                </el-form-item>\n                <el-form-item label=\"差异显示行数\">\n                  <el-input type=\"number\" placeholder=\"10\" v-model.number=\"contextRowLength\"></el-input>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"width: 100%;text-align: center;clear: both;\">\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">正式环境版本</p>\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">测试环境版本</p>\n            </div>\n            <div style=\"margin-top: 80px;\">\n              <code-diff :old-string=\"codeDiffData.beforeExportProdStr\" :new-string=\"codeDiffData.exportProdStr\" :isShowNoChange=\"true\" :renderNothingWhenEmpty=\"false\" outputFormat=\"side-by-side\" :context=\"contextRowLength\" />\n            </div>\n          </div>\n          <div style=\"text-align:right;\">\n            <el-button type=\"danger\" @click=\"exportProdDialogVisible=false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"confirmExportProd\">同步</el-button>\n          </div>\n        </el-dialog>\n\n        <el-dialog :visible.sync=\"exportRecordDialogVisible\" title=\"发布记录\" width=\"80%\">\n          <div v-loading=\"dialogLoading\">\n            <div style=\"float: left;width: 50%; padding:20px;\">\n              <el-form :model=\"excel\" label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"选择表格\">\n                  <el-radio-group v-model=\"sleectedSheet\" @change=\"onSelectedSheetChange(3)\">\n                    <el-radio v-for=\"item in sheetList\" :key=\"item\" :label=\"item\" >{{item}} </el-radio>\n                  </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"发布记录\">\n                  <el-select v-model=\"selectRecordId\" @change=\"onSelectRecordChange()\" filterable placeholder=\"选择历史发布记录\" style=\"width:90%;\">\n                    <el-option\n                      v-for=\"item in recordList\"\n                      :key=\"item.id\"\n                      :label=\"item.remark\"\n                      :value=\"item.id\">\n                      <span style=\"float: left;margin-right:100px;\">{{ item.remark }}</span>\n                      <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ item.userName }} 发布于 {{ item.time }}</span>\n                    </el-option>\n                  </el-select>\n                  <el-button style=\"margin-top: 20px;\" type=\"danger\" @click=\"handleRollBack\">回退到此版本</el-button>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"float: left;width: 50%;padding:20px;\">\n              <el-form label-width=\"120px\" label-position=\"left\">\n                <el-form-item label=\"对比设置\">\n                </el-form-item>\n                <el-form-item label=\"差异显示行数\">\n                  <el-input type=\"number\" placeholder=\"10\" v-model.number=\"contextRowLength\"></el-input>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div style=\"width: 100%;text-align: center; clear: both;\">\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">发布前版本</p>\n              <p style=\"font-size: 18px;font-weight: bold;width: 50%;float: left;\">发布后版本</p>\n            </div>\n            <div style=\"margin-top: 80px;\">\n              <code-diff :old-string=\"codeDiffData.beforeExportRecordStr\" :new-string=\"codeDiffData.exportRecordStr\" :isShowNoChange=\"true\" :renderNothingWhenEmpty=\"false\" outputFormat=\"side-by-side\" :context=\"contextRowLength\" />\n            </div>\n          </div>\n        </el-dialog>\n\n      </el-tab-pane>\n\n\n      <el-tab-pane label=\"项目配置\">\n        <el-form ref=\"form\" :model=\"groupInfo\" label-width=\"120px\">\n          <el-form-item label=\"名称\">\n            <el-input v-model=\"groupInfo.name\" value=\"贪吃蛇大作战\" />\n          </el-form-item>\n          <el-form-item label=\"头像\">\n            <el-col :span=\"11\">\n              <img id=\"group-icon\" v-bind:src=\"groupInfo.avatar\" alt=\"\">\n              <input class=\"avatar-input\" type=\"file\" accept=\"image/*\" @change=\"uploadAvatar\" name=\"avatar\"   />\n            </el-col>\n          </el-form-item>\n          <br>\n          <el-form-item label=\"备注\">\n            <el-input v-model=\"groupInfo.remark\" type=\"textarea\" />\n          </el-form-item>\n          <el-form-item label=\"数据仓库\">\n            <el-checkbox-group v-model=\"groupInfo.store\" style=\"padding: 5px 15px;\">\n              <el-checkbox v-for=\"item in storeOptions\" :key=\"item.key\" :label=\"item.key\">\n                {{ item.name }}\n              </el-checkbox>\n            </el-checkbox-group>\n          </el-form-item>\n          <el-form-item v-show=\"inArray(groupInfo.store, 1)\" label=\"Redis配置\" class=\"store-group\">\n            <el-form-item label=\"RedisDSN\">\n              <el-input v-model=\"groupInfo.RedisDSN\" name=\"RedisDSN\" type=\"text\" placeholder=\"172.2.1.88:6379\" />\n            </el-form-item>\n            <el-form-item label=\"密码\">\n              <el-input v-model=\"groupInfo.RedisPassword\" name=\"RedisPassword\" auto-complete=\"new-password\" type=\"password\" placeholder=\"password\" />\n            </el-form-item>\n            <el-form-item label=\"KeyPrefix\">\n              <el-input v-model=\"groupInfo.RedisKeyPrefix\" type=\"text\" placeholder=\"key prefix 可不填\" />\n            </el-form-item>\n            <el-tag type=\"danger\" style=\"margin-left: 40px;\" >\n              应用可以通过订阅redis的channel：{{groupInfo.RedisKeyPrefix}}config_refresh 获取配置更新的通知，message为更新的表名\n            </el-tag>\n            <el-form-item label=\" \">\n              <el-button type=\"success\" @click=\"testRedisConnection\">测试连通性</el-button>\n            </el-form-item>\n          </el-form-item>\n\n          <el-form-item v-show=\"inArray(groupInfo.store, 2)\" label=\"Mysql配置\" class=\"store-group\">\n            <el-form-item label=\"MysqlDSN\">\n              <el-input v-model=\"groupInfo.MysqlDSN\" type=\"text\" placeholder=\"username:password@tcp(172.2.1.88:3306)/dbname?charset=utf8mb4\" />\n            </el-form-item>\n            <el-form-item label=\" \">\n              <el-button type=\"success\" @click=\"testMysqlConnection\">测试连通性</el-button>\n            </el-form-item>\n          </el-form-item>\n\n          <el-form-item v-show=\"inArray(groupInfo.store, 3)\" label=\"Mongodb配置\" class=\"store-group\">\n            <el-form-item label=\"MongodbDSN\">\n              <el-input v-model=\"groupInfo.MongodbDSN\" type=\"text\" placeholder=\"mongodb://username:password@127.0.0.1:27017/?authSource=dbname\" />\n            </el-form-item>\n            <el-form-item label=\" \">\n              <el-button type=\"success\" @click=\"testMongodbConnection\">测试连通性</el-button>\n            </el-form-item>\n          </el-form-item>\n\n          <el-form-item v-show=\"inArray(groupInfo.store, 4)\" label=\"Databus配置\" class=\"store-group\">\n            <el-form-item label=\"GrpcDSN\">\n              <el-input v-model=\"groupInfo.GrpcDSN\" name=\"GrpcDSN\" type=\"text\" placeholder=\"172.2.1.88:10000\" />\n            </el-form-item>\n            <el-form-item label=\"GrpcAppKey\">\n              <el-input v-model=\"groupInfo.GrpcAppKey\" name=\"GrpcAppKey\" type=\"text\" placeholder=\"appKey\" />\n            </el-form-item>\n            <el-form-item label=\"GrpcAppSecret\">\n              <el-input v-model=\"groupInfo.GrpcAppSecret\" name=\"GrpcAppSecret\" type=\"text\" placeholder=\"appSecret\" />\n            </el-form-item>\n            <el-tag type=\"danger\" style=\"margin-left: 40px;\" >\n              请参阅Readme.md文档搭建e2cdatabus服务器\n            </el-tag>\n            <el-form-item label=\" \">\n              <el-button type=\"primary\" @click=\"generateAppKeySecretHandler\">获取AppKey和AppSecret</el-button>\n              <el-button type=\"success\" @click=\"testGRpcConnection\">测试连通性</el-button>\n            </el-form-item>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"saveGroupConfig\">保存</el-button>\n          </el-form-item>\n        </el-form>\n      </el-tab-pane>\n      <el-tab-pane label=\"项目成员\">\n        <el-button type=\"primary\" @click=\"handleAddMember\">添加成员</el-button>\n        <el-table\n          v-loading=\"listLoading\"\n          :data=\"groupInfo.members\"\n          element-loading-text=\"Loading\"\n          border\n          fit\n          highlight-current-row\n          style=\"width: 100%;margin-top:30px;\"\n        >\n        <!-- <el-table-column label=\"头像\"  align=\"center\" >\n            <template slot-scope=\"scope\">\n              <img :src=\"scope.row.avatar\" style=\"width:60px;border-radius:50%;\" alt=\"\">\n            </template>\n          </el-table-column> -->\n          <el-table-column label=\"昵称\"  align=\"center\" >\n            <template slot-scope=\"scope\">\n              <span>{{ scope.row.userName }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column class-name=\"status-col\" label=\"操作\" width=\"300\" align=\"center\">\n            <template slot-scope=\"scope\">\n              <el-button v-show=\"isGroupOwner(scope)\" type=\"danger\" size=\"small\" @click=\"handleDeleteMember(scope)\">删除</el-button>\n              <el-tag v-show=\"groupInfo.owner === scope.row.uid\">管理员</el-tag>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-dialog :visible.sync=\"addMemberdialogVisible\" title=\"添加成员\" width=\"500px\">\n          <el-form label-width=\"80px\" label-position=\"left\">\n            <el-form-item label=\"名称\">\n              <el-autocomplete\n                v-model=\"searchUserName\"\n                :fetch-suggestions=\"querySearchAsync\"\n                placeholder=\"请输入名称:\"\n                clearable\n                :trigger-on-focus=\"false\"\n                @select=\"handleSelect\"\n              ></el-autocomplete>\n            </el-form-item>\n          </el-form>\n          <br>\n          <div style=\"text-align:right;\">\n            <el-button type=\"danger\" @click=\"addMemberdialogVisible=false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"addMember()\">保存</el-button>\n          </div>\n        </el-dialog>\n      </el-tab-pane>\n    </el-tabs>\n\n  </div>\n</template>\n\n<script>\nimport { getList, deleteExcel, updateExcel, addExcel, exportExcel, getSheetList, exportExcelProd } from '@/api/sheet'\nimport { searchUser } from '@/api/user'\nimport { groupUpdate, groupTestConnection, getConfigFromDB, exportConfigToDB, generateAppKeySecret,\n  groupList, syncToProd, exportRecord, exportRecordContent, exportRollback } from '@/api/group'\nimport { mapGetters } from 'vuex'\nimport { deepClone } from '@/utils'\nimport CodeDiff from '@/components/vue-code-diff'\nimport { MessageBox } from 'element-ui'\n\nconst defaultExcel = {\n  id: '',\n  name: '',\n  owner: '',\n  remark: '',\n  create_time: '',\n  update_time: ''\n}\n\nexport default {\n  components: { CodeDiff },\n  computed: {\n    ...mapGetters([\n      'uid',\n      'name'\n    ])\n  },\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'gray',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    },\n    dateFilter(datetime) {\n      return new Date(parseInt(datetime) * 1000).toLocaleString().replace(/:\\d{1,2}$/,' ');\n    }\n  },\n  data() {\n    return {\n      excel: Object.assign({}, defaultExcel),\n      list: [],\n      listLoading: true,\n      dialogLoading: false,\n      dialogVisible: false,\n      dialogType: 'new',\n      exportDialogVisible: false,\n      exportFormat: '',\n      form: {},\n      groupInfo: {\n        name: '贪吃蛇大作战',\n        remark: '这是贪吃蛇大作战App项目',\n        avatar: require('../../icons/tanchishe-icon.png'),\n        store: []\n      },\n      storeOptions: [\n        { key: 1, name: 'Redis' },\n        { key: 2, name: 'Mysql' },\n        // {key: 'Mongodb', name: 'Mongodb'},\n        { key: 4, name: 'Databus' }\n      ],\n      addMemberdialogVisible: false,\n      searchUserName: '',\n      searchUid: '',\n      compareVisable: false,\n      sheetList: [],\n      sleectedSheet: '',\n      exportProdDialogVisible: false,\n      exportRecordDialogVisible: false,\n      selectRecordId: '',\n      recordList: [],\n      exportRemark: '',\n      contextRowLength: 10,\n      codeDiffData: {\n        beforeExportStr: '',\n        exportStr: '',\n        beforeExportProdStr: '',\n        exportProdStr: '',\n        beforeExportRecordStr: '',\n        exportRecordStr: '',\n      }\n    }\n  },\n  created() {\n    this.excel.owner = this.name\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true\n      var groupInfo = localStorage.getItem('groupInfo')\n      groupInfo = JSON.parse(groupInfo)\n      console.log(groupInfo)\n      if (groupInfo === null) {\n        this.$router.push({\n          path: '/'\n        })\n        return\n      }\n      if (groupInfo.store === undefined || groupInfo.store === null) {\n        groupInfo.store = []\n      }\n      this.groupInfo = groupInfo\n      getList({limit: 10, group_id: groupInfo.gid}).then(response => {\n        if (response.data.list !== undefined) {\n          this.list = response.data.list\n        }\n        this.listLoading = false\n      })\n    },\n    handleAddExcel() {\n      this.excel = Object.assign({}, defaultExcel),\n      this.excel.owner = this.name\n      this.dialogType = 'new'\n      this.dialogVisible = true\n    },\n    handleSwitchEnv() {\n      var text = '当前处于正式环境，是否确认切换到测试环境'\n      if (this.groupInfo.IsDev) {\n        text = '当前处于测试环境，是否确认切换到正式环境'\n      }\n      MessageBox.confirm(text, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(res => {\n        if (res === undefined) {\n          return\n        }\n        var unionGid = this.groupInfo.UnionGroupId\n        groupList(unionGid).then(response => {\n          if (response.data.list !== undefined && response.data.list.length > 0) {\n            this.groupInfo = response.data.list[0]\n            localStorage.setItem('groupInfo', JSON.stringify(this.groupInfo))\n            // refresh\n            var path = this.$route.path\n            this.$router.push({\n              path,\n              query: {\n                t: +new Date() //保证每次点击路由的query项都是不一样的，确保会重新刷新view\n              }\n            })\n            this.fetchData()\n          } else{\n            this.$message({\n              type: 'warning',\n              message: '暂无权限，请联系管理员添加权限'\n            })\n          }\n        })\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n    async confirmExcel() {\n      if (this.excel.name.length === 0) {\n        this.$message({\n          type: 'warning',\n          message: '请输入名称'\n        })\n        return\n      }\n      const isEdit = this.dialogType === 'edit'\n      if (isEdit) {\n        await updateExcel(this.excel)\n        for (let index = 0; index < this.list.length; index++) {\n          if (this.list[index].id === this.excel.id) {\n            this.list.splice(index, 1, Object.assign({}, this.excel))\n            break\n          }\n        }\n      } else {\n        var params = this.excel\n        params.uid = this.uid\n        params.group_id = this.groupInfo.gid\n        const { data } = await addExcel(params)\n        this.excel.id = data.eid\n        var timestamp=new Date().getTime()\n        this.excel.createTime = timestamp/1000\n        this.excel.editTime = timestamp/1000\n        this.list.push(this.excel)\n      }\n\n      const { id, name, remark } = this.excel\n      this.dialogVisible = false\n      this.$notify({\n        title: 'Success',\n        dangerouslyUseHTMLString: true,\n        message: `\n            <div>名称: ${name}</div>\n            <div>备注: ${remark}</div>\n          `,\n        type: 'success'\n      })\n    },\n    handleEdit(scope) {\n      this.dialogType = 'edit'\n      this.dialogVisible = true\n      this.checkStrictly = true\n      this.excel = deepClone(scope.row)\n    },\n    handleDelete({$index, row}) {\n      this.$confirm('确定删除表格吗?', 'Warning', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async() => {\n        await deleteExcel({id: row.id, name: row.name})\n        this.list.splice($index, 1)\n        this.$message({\n          type: 'success',\n          message: '删除成功!'\n        })\n      }).catch(err => { console.error(err) })\n    },\n    handleExport(scope) {\n      this.excel = deepClone(scope.row)\n      this.exportDialogVisible = true\n      this.sheetList = []\n      this.codeDiffData.beforeExportStr = ''\n      this.codeDiffData.exportStr = ''\n      this.exportRemark = ''\n      this.dialogLoading = true\n      getSheetList({gridKey: this.excel.id}).then(response => {\n        if (response.code === 0) {\n          this.sheetList = response.data.sheetName\n          console.log(this.sheetList)\n          if (this.sheetList.length > 0) {\n            this.sleectedSheet = this.sheetList[0]\n          }\n          this.getExcelSheetContent(this.excel.id, this.sleectedSheet)\n          this.getExcelSheetFromDB(this.excel.id, this.sleectedSheet)\n        }\n      })\n    },\n    handleExportProd(scope) {\n      this.excel = deepClone(scope.row)\n      this.exportProdDialogVisible = true\n      this.sheetList = []\n      this.codeDiffData.beforeExportProdStr = ''\n      this.codeDiffData.exportProdStr = ''\n      this.dialogLoading = true\n      getSheetList({gridKey: this.excel.id}).then(response => {\n        if (response.code === 0) {\n          this.sheetList = response.data.sheetName\n          console.log(this.sheetList)\n          if (this.sheetList.length > 0) {\n            this.sleectedSheet = this.sheetList[0]\n          }\n          this.getExcelSheetContent(this.excel.id, this.sleectedSheet)\n          this.getExcelSheetFromProd(this.excel.id, this.sleectedSheet)\n        }\n      })\n    },\n    handleExportRecord(scope) {\n      this.excel = deepClone(scope.row)\n      this.exportRecordDialogVisible = true\n      this.sheetList = []\n      this.exportRecord = []\n      this.codeDiffData.beforeExportRecordStr = ''\n      this.codeDiffData.exportRecordStr = ''\n      this.dialogLoading = true\n      getSheetList({gridKey: this.excel.id}).then(response => {\n        if (response.code === 0) {\n          this.sheetList = response.data.sheetName\n          console.log(this.sheetList)\n          if (this.sheetList.length > 0) {\n            this.sleectedSheet = this.sheetList[0]\n          }\n          // 获取record list\n          this.getRecordList()\n        }\n      })\n    },\n    getRecordList() {\n      exportRecord({gridKey: this.excel.id, sheetName: this.sleectedSheet}).then(resp => {\n        if (resp.data !== null) {\n          this.recordList = resp.data.list\n        }\n        if (this.recordList.length > 0) {\n          this.selectRecordId = this.recordList[0].id\n        }\n        this.refreshRecordContent()\n      })\n    },\n    refreshRecordContent() {\n      var lastRecordId = ''\n      // 判断是否有上一个record\n      for (var i=0;i<this.recordList.length;i++) {\n        if (this.recordList[i].id === this.selectRecordId) {\n          if (i+1<this.recordList.length) {\n            console.log('record：', this.recordList[i+1])\n            lastRecordId = this.recordList[i+1].id\n          }\n        }\n      }\n      this.getExcelSheetFromRecord(this.excel.id, this.sleectedSheet, this.selectRecordId)\n      this.getExcelSheetFromRecord(this.excel.id, this.sleectedSheet, lastRecordId)\n    },\n    async getExcelSheetContent(gridKey, sheetName) {\n      this.codeDiffData.exportStr = ''\n      var params = {}\n      params.gridKey = gridKey\n      params.sheetName = sheetName\n      params.format = 'json'\n      const { data } = await exportExcel(params)\n      if (data.jsonstr !== undefined && data.jsonstr.length > 0) {\n        this.codeDiffData.exportStr = data.jsonstr\n        this.codeDiffData.exportProdStr = data.jsonstr\n        this.dialogLoading = false\n      }\n    },\n    async getExcelSheetFromDB(gridKey, sheetName) {\n      this.codeDiffData.beforeExportStr = ''\n      var params = {}\n      params.gridKey = gridKey\n      params.sheetName = sheetName\n      const { data } = await getConfigFromDB(params)\n      if (data.jsonstr !== undefined && data.jsonstr.length > 0) {\n        this.codeDiffData.beforeExportStr = data.jsonstr\n        this.dialogLoading = false\n      }\n    },\n    async getExcelSheetFromProd(gridKey, sheetName) {\n      this.codeDiffData.beforeExportProdStr = ''\n      var params = {}\n      params.gridKey = gridKey\n      params.sheetName = sheetName\n      params.format = 'json'\n      params.gid = this.groupInfo.gid\n      const { data } = await exportExcelProd(params)\n      if (data.jsonstr !== undefined && data.jsonstr.length > 0) {\n        this.codeDiffData.beforeExportProdStr = data.jsonstr\n        this.dialogLoading = false\n      }\n    },\n    async getExcelSheetFromRecord(gridKey, sheetName, recordId) {\n      if (recordId === this.selectRecordId) {\n        this.codeDiffData.exportRecordStr = ''\n      } else {\n        this.codeDiffData.beforeExportRecordStr = ''\n      }\n      if (recordId.length === 0) {\n        return\n      }\n      var params = {}\n      params.gridKey = gridKey\n      params.sheetName = sheetName\n      params.recordId = recordId\n      params.format = 'json'\n      const { data } = await exportRecordContent(params)\n      if (data.jsonstr !== undefined && data.jsonstr.length > 0) {\n        if (recordId === this.selectRecordId) {\n          this.codeDiffData.exportRecordStr = data.jsonstr\n          this.dialogLoading = false\n        } else {\n          this.codeDiffData.beforeExportRecordStr = data.jsonstr\n          this.dialogLoading = false\n        }\n      }\n    },\n    handleRollBack() {\n      var text = '您当前选择的配置表是 \\\"' + this.sleectedSheet + '\\\", 确认要回退版本吗？'\n      MessageBox.confirm(text, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(res => {\n        if (res === undefined) {\n          return\n        }\n        var params = {}\n        params.gridKey = this.excel.id\n        params.sheetName = this.sleectedSheet\n        params.recordId = this.selectRecordId\n        exportRollback(params).then(response => {\n          if (response.code !== 0) {\n              this.$notify({\n                title: '回退失败',\n                dangerouslyUseHTMLString: true,\n                message: response.data.msg,\n                type: 'error'\n              })\n            } else {\n              this.$notify({\n                title: '回退成功',\n                dangerouslyUseHTMLString: true,\n                message: '',\n                type: 'success'\n              })\n              this.exportRecordDialogVisible = false\n            }\n          }\n        )\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n    onSelectedSheetChange(e) {\n      this.dialogLoading = true\n      if (e === 1) { // 发布弹窗\n        this.listLoading = true\n        this.getExcelSheetContent(this.excel.id, this.sleectedSheet)\n        this.getExcelSheetFromDB(this.excel.id, this.sleectedSheet)\n        this.listLoading = false\n      } else if (e === 2) { // 同步弹窗\n        this.getExcelSheetContent(this.excel.id, this.sleectedSheet)\n        this.getExcelSheetFromProd(this.excel.id, this.sleectedSheet)\n      } else if (e === 3) { //发布记录弹窗\n        this.selectRecordId = ''\n        this.codeDiffData.beforeExportRecordStr = ''\n        this.codeDiffData.exportRecordStr = ''\n        this.recordList = []\n        this.getRecordList()\n      }\n    },\n    onSelectRecordChange(e) {\n      console.log('select record changed')\n      this.refreshRecordContent()\n    },\n    confirmExport() {\n      if (this.exportRemark.length === 0) {\n        this.$notify({\n          title: '发布失败',\n          dangerouslyUseHTMLString: true,\n          message: '请填写发布内容',\n          type: 'error'\n        })\n        return\n      }\n      var text = '您当前选择的配置表是 \\\"' + this.sleectedSheet + '\\\", 修改备注为 \\\"'+this.exportRemark + '\\\", 确认发布吗？'\n      if (!this.groupInfo.IsDev) {\n        text = '当前处于正式环境, ' + text\n      }\n      MessageBox.confirm(text, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(res => {\n        var params = {}\n        params.gridKey = this.excel.id\n        params.sheetName = this.sleectedSheet\n        params.remark = this.exportRemark\n        exportConfigToDB(params).then(response => {\n          if (response.code === 0) {\n            if (response.code !== 0) {\n              this.$notify({\n                title: '发布失败',\n                dangerouslyUseHTMLString: true,\n                message: response.data.msg,\n                type: 'error'\n              })\n            } else {\n              this.$notify({\n                title: '发布成功',\n                dangerouslyUseHTMLString: true,\n                message: '',\n                type: 'success'\n              })\n              this.exportDialogVisible = false\n            }\n          }\n        })\n      })\n    },\n    confirmExportProd() {\n      var params = {}\n      params.gridKey = this.excel.id\n      params.sheetName = this.sleectedSheet\n      params.gid = this.groupInfo.gid\n      syncToProd(params).then(response => {\n        if (response.code === 0) {\n          if (response.code !== 0) {\n            this.$notify({\n              title: '同步失败',\n              dangerouslyUseHTMLString: true,\n              message: response.data.msg,\n              type: 'error'\n            })\n          } else {\n            this.$notify({\n              title: '同步成功',\n              dangerouslyUseHTMLString: true,\n              message: '',\n              type: 'success'\n            })\n            this.exportProdDialogVisible = false\n          }\n        }\n      })\n    },\n    exportJsonFile() {\n      this.downloadJsonFile(this.codeDiffData.beforeExportStr, this.sleectedSheet + '.json')\n    },\n    downloadJsonFile(content, filename) {\n      var eleLink = document.createElement('a')\n      eleLink.download = filename\n      eleLink.style.display = 'none'\n      // 字符内容转变成blob地址\n      var blob = new Blob([content])\n      eleLink.href = URL.createObjectURL(blob)\n      // 触发点击\n      document.body.appendChild(eleLink)\n      eleLink.click()\n      // 然后移除\n      document.body.removeChild(eleLink)\n    },\n    saveGroupConfig() {\n      groupUpdate({id: this.groupInfo.gid, groupInfo: this.groupInfo}).then(response => {\n        if (response.code !== 0) {\n          this.$notify({\n            title: '保存失败',\n            dangerouslyUseHTMLString: true,\n            message: response.data.msg,\n            type: 'error'\n          })\n        } else {\n          this.$notify({\n            title: '保存成功',\n            dangerouslyUseHTMLString: true,\n            message: '',\n            type: 'success'\n          })\n          localStorage.setItem('groupInfo', JSON.stringify(this.groupInfo))\n        }\n      })\n    },\n    uploadAvatar(e) {\n      e.preventDefault()\n      console.log(e)\n      const files = e.target.files || e.dataTransfer.files\n      if (this.checkFile(files[0])) {\n        this.setSourceImg(files[0])\n      }\n    },\n    /* ---------------------------------------------------------------*/\n    // 检测选择的文件是否合适\n    checkFile(file) {\n      const { lang, maxSize } = this\n      // 仅限图片\n      if (file.type.indexOf('image') === -1) {\n        this.hasError = true\n        this.errorMsg = lang.error.onlyImg\n        return false\n      }\n      // 超出大小\n      if (file.size / 1024 > maxSize) {\n        this.hasError = true\n        this.errorMsg = lang.error.outOfSize + maxSize + 'kb'\n        return false\n      }\n      return true\n    },\n    setSourceImg(file) {\n      const fr = new FileReader()\n      fr.onload = e => {\n        this.groupInfo.avatar = fr.result\n      }\n      fr.readAsDataURL(file)\n    },\n    inArray(arr, target) {\n      for (var i in arr) {\n        if (arr[i] === target) {\n          return true\n        }\n      }\n      return false\n    },\n    testRedisConnection(e) {\n      var params = {dsnType:1,dsn:this.groupInfo.RedisDSN,pwd:this.groupInfo.RedisPassword}\n      groupTestConnection(params).then(response => {\n        if (response.data.connected === 0 || response.data.connected === undefined) {\n          this.$notify({\n            title: 'Redis连接失败',\n            dangerouslyUseHTMLString: true,\n            message: `请检查DSN配置或者IP白名单配置`,\n            type: 'error'\n          })\n          return\n        } else {\n          this.$notify({\n            title: 'Redis连接成功',\n            dangerouslyUseHTMLString: true,\n            message: ``,\n            type: 'success'\n          })\n        }\n      })\n    },\n    testMysqlConnection() {\n      var params = {dsnType:2,dsn:this.groupInfo.MysqlDSN}\n      groupTestConnection(params).then(response => {\n        if (response.data.connected === 0 || response.data.connected === undefined) {\n          this.$notify({\n            title: 'Mysql连接失败',\n            dangerouslyUseHTMLString: true,\n            message: `请检查DSN配置或者IP白名单配置`,\n            type: 'error'\n          })\n          return\n        } else {\n          this.$notify({\n            title: 'Mysql连接成功',\n            dangerouslyUseHTMLString: true,\n            message: ``,\n            type: 'success'\n          })\n        }\n      })\n    },\n    testGRpcConnection() {\n      var params = {\n        dsnType:4,\n        dsn:    this.groupInfo.GrpcDSN,\n        appKey: this.groupInfo.GrpcAppKey,\n        appSecret: this.groupInfo.GrpcAppSecret,\n      }\n      groupTestConnection(params).then(response => {\n        if (response.data.connected === 0 || response.data.connected === undefined) {\n          this.$notify({\n            title: 'Databus连接失败',\n            dangerouslyUseHTMLString: true,\n            message: `请启动Databus服务，检查DSN和AppKey、AppSecret配置`,\n            type: 'error'\n          })\n          return\n        } else {\n          this.$notify({\n            title: 'Databus连接成功',\n            dangerouslyUseHTMLString: true,\n            message: ``,\n            type: 'success'\n          })\n        }\n      })\n    },\n    generateAppKeySecretHandler() {\n      this.$set(this.groupInfo, 'GrpcDSN', '')\n      generateAppKeySecret().then(response => {\n        if (response.data === null || response.data.appKey === '' || response.data.appSecret === '') {\n          this.$notify({\n            title: '获取失败',\n            dangerouslyUseHTMLString: true,\n            message: `请联系管理员`,\n            type: 'error'\n          })\n          return\n        } else {\n          this.$notify({\n            title: '获取成功',\n            dangerouslyUseHTMLString: true,\n            message: `请参阅文档搭建e2cdatabus服务器`,\n            type: 'success'\n          })\n          this.$set(this.groupInfo, 'GrpcAppKey', response.data.appKey)\n          this.$set(this.groupInfo, 'GrpcAppSecret', response.data.appSecret)\n        }\n      })\n    },\n    testMongodbConnection() {\n      var params = { dsnType: 3, dsn: this.groupInfo.MongodbDSN }\n      groupTestConnection(params).then(response => {\n        if (response.data.connected === 0 || response.data.connected === undefined) {\n          this.$notify({\n            title: 'Mongodb连接失败',\n            dangerouslyUseHTMLString: true,\n            message: `请检查DSN配置或者IP白名单配置`,\n            type: 'error'\n          })\n          return\n        } else {\n          this.$notify({\n            title: 'Mongodb连接成功',\n            dangerouslyUseHTMLString: true,\n            message: ``,\n            type: 'success'\n          })\n        }\n      })\n    },\n    isGroupOwner(scope) {\n      if (this.groupInfo.owner === this.uid) {\n        return this.groupInfo.owner !== scope.row.uid\n      }\n      return false\n    },\n    handleAddMember() {\n      this.addMemberdialogVisible = true\n    },\n    addMember() {\n      var exist = false\n      this.groupInfo.members.forEach(m => {\n        if (m.uid === this.searchUid) {\n          exist = true\n          return\n        }\n      })\n      if (exist) {\n        this.$notify({\n          title: '添加失败',\n          dangerouslyUseHTMLString: true,\n          message: `成员已存在`,\n          type: 'error'\n        })\n        return\n      }\n      this.groupInfo.members.push({\n        uid: this.searchUid,\n        userName: this.searchUserName,\n      })\n      this.updateGroupInfo('保存成功', '添加成员：'+this.searchUserName)\n      this.addMemberdialogVisible = false\n    },\n    handleSelect(e) {\n      this.searchUid = e.id\n    },\n    handleDeleteMember(scope) {\n      var members = []\n      this.groupInfo.members.forEach( m => {\n        if (m.uid !== scope.row.uid) {\n          members.push(m)\n        }\n      })\n      this.groupInfo.members = members\n      this.updateGroupInfo('保存成功', '删除成员：'+scope.row.userName)\n    },\n    updateGroupInfo(succTitle, sussMsg) {\n      groupUpdate({id: this.groupInfo.gid, groupInfo: this.groupInfo}).then(response => {\n        if (response.code !== 0) {\n          this.$notify({\n            title: '保存失败',\n            dangerouslyUseHTMLString: true,\n            message: response.data.msg,\n            type: 'error'\n          })\n        } else {\n          this.$notify({\n            title: succTitle,\n            dangerouslyUseHTMLString: true,\n            message: sussMsg,\n            type: 'success'\n          })\n          localStorage.setItem('groupInfo', JSON.stringify(this.groupInfo))\n        }\n      })\n    },\n    querySearchAsync(queryString, cb) {\n      var results = []\n      this.searchUid = ''\n      if (queryString === '') {\n        cb(results);\n        return\n      }\n      searchUser({name: this.searchUserName}).then(response => {\n        if (response.data.userInfos === undefined || response.data.userInfos === null) {\n          cb(results);\n          return\n        }\n        response.data.userInfos.forEach(u => {\n          results.push({ 'id':u.uid, 'value': u.userName })\n        })\n        console.log(results)\n        cb(results);\n      })\n    },\n  }\n}\n</script>\n\n<style scoped>\n  .avatar-input {\n    float: left;\n    position: absolute;\n    height: 60px;\n    width: 60px;\n    opacity: 0;\n  }\n  #group-icon {\n    float: left;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n  }\n  .store-group {\n    border: 1px solid #DCDFE6;\n    border-radius: 5px;\n    padding: 10px;\n  }\n  .store-group .el-form-item {\n    margin: 10px auto;\n  }\n  .group-title {\n    text-align: center;\n    font-size: 24px;\n    font-weight: bold;\n  }\n  .operate-box {\n    padding: 10px;\n    border: 1px solid #DCDFE6;\n    /* box-shadow: 0 2px 4px 0 rgb(0 0 0 / 12%), 0 0 6px 0 rgb(0 0 0 / 4%); */\n  }\n</style>\n"],"sourceRoot":"src/views/table"}]}