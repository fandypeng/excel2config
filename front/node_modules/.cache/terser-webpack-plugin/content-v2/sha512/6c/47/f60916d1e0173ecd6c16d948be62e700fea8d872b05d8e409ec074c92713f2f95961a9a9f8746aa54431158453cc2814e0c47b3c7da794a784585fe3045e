{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-9c12de9c\"],{\"23ba\":function(t,a,e){\"use strict\";e.d(a,\"d\",(function(){return o})),e.d(a,\"c\",(function(){return r})),e.d(a,\"f\",(function(){return i})),e.d(a,\"e\",(function(){return l})),e.d(a,\"b\",(function(){return s})),e.d(a,\"a\",(function(){return c}));var n=e(\"b775\");function o(t){return Object(n[\"a\"])({url:\"/group/list\",method:\"get\",data:t})}function r(t){return Object(n[\"a\"])({url:\"/group/add\",method:\"post\",data:t})}function i(t){return Object(n[\"a\"])({url:\"/group/update\",method:\"post\",data:t})}function l(t){return console.log(t),Object(n[\"a\"])({url:\"/group/test_connection\",method:\"post\",data:t})}function s(t){return console.log(t),Object(n[\"a\"])({url:\"/group/get_config_from_db\",method:\"post\",data:t})}function c(t){return console.log(t),Object(n[\"a\"])({url:\"/group/export_config_to_db\",method:\"post\",data:t})}},\"2b59\":function(t,a,e){\"use strict\";e(\"e75a\")},\"5aac\":function(t,a,e){},9406:function(t,a,e){\"use strict\";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"dashboard-container\"},[e(\"panel-group\")],1)},o=[],r=e(\"5530\"),i=e(\"2f62\"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"el-row\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"panel-group\",attrs:{gutter:40,\"element-loading-text\":\"Loading\"}},[t._l(t.list,(function(a){return e(\"el-col\",{key:a.gid,staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[e(\"div\",{staticClass:\"card-panel\",on:{click:function(e){return t.handleClickGroupPanel(a)}}},[e(\"div\",{staticClass:\"card-panel-icon-wrapper icon-box\"},[e(\"img\",{attrs:{src:a.avatar,alt:\"\"}})]),e(\"div\",{staticClass:\"card-panel-description\"},[e(\"div\",{staticClass:\"card-panel-text\"},[t._v(\" \"+t._s(a.name)+\" \")])])])])})),e(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[e(\"div\",{staticClass:\"card-panel\",on:{click:function(a){return t.handleClickAddGroup()}}},[e(\"div\",{staticClass:\"card-panel-icon-wrapper icon-box\"},[e(\"i\",{staticClass:\"el-icon-plus\"})]),e(\"div\",{staticClass:\"card-panel-description\"},[e(\"div\",{staticClass:\"card-panel-text\"},[t._v(\" 添加项目 \")])])])]),e(\"el-dialog\",{attrs:{visible:t.dialogVisible,title:\"添加项目\"},on:{\"update:visible\":function(a){t.dialogVisible=a}}},[e(\"el-form\",{attrs:{model:t.groupInfo,\"label-width\":\"80px\",\"label-position\":\"left\"}},[e(\"el-form-item\",{attrs:{label:\"项目名称\"}},[e(\"el-input\",{attrs:{placeholder:\"项目名称\"},model:{value:t.groupInfo.name,callback:function(a){t.$set(t.groupInfo,\"name\",a)},expression:\"groupInfo.name\"}})],1),e(\"el-form-item\",{attrs:{label:\"头像\"}},[e(\"el-col\",{attrs:{span:11}},[e(\"img\",{attrs:{id:\"group-icon\",src:t.groupInfo.avatar,alt:\"\"}}),e(\"input\",{staticClass:\"avatar-input\",attrs:{type:\"file\",accept:\"image/*\",name:\"avatar\"},on:{change:t.uploadAvatar}})])],1),e(\"br\"),e(\"el-form-item\",{attrs:{label:\"备注\"}},[e(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"项目备注\"},model:{value:t.groupInfo.remark,callback:function(a){t.$set(t.groupInfo,\"remark\",a)},expression:\"groupInfo.remark\"}})],1)],1),e(\"div\",{staticStyle:{\"text-align\":\"right\"}},[e(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(a){t.dialogVisible=!1}}},[t._v(\"取消\")]),e(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.addGroupInfo}},[t._v(\"保存\")])],1)],1)],2)},s=[],c=(e(\"c975\"),e(\"23ba\")),u={data:function(){return{dialogVisible:!1,groupInfo:{name:\"\",avatar:\"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif\"},listLoading:!1,list:[]}},components:{},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(c[\"d\"])({}).then((function(a){void 0!=a.data.list&&(t.list=a.data.list),t.listLoading=!1}))},handleClickGroupPanel:function(t){localStorage.setItem(\"groupInfo\",JSON.stringify(t)),this.$router.push({path:\"/config/index\"})},handleClickAddGroup:function(){this.dialogVisible=!0},addGroupInfo:function(){var t=this;console.log(this.groupInfo),Object(c[\"c\"])(this.groupInfo).then((function(a){void 0!=a.data.groupInfo&&(t.list.push(a.data.groupInfo),t.dialogVisible=!1),console.log(t.list)}))},uploadAvatar:function(t){t.preventDefault(),console.log(t);var a=t.target.files||t.dataTransfer.files;this.checkFile(a[0])&&this.setSourceImg(a[0])},checkFile:function(t){var a=this.lang,e=this.maxSize;return-1===t.type.indexOf(\"image\")?(this.hasError=!0,this.errorMsg=a.error.onlyImg,!1):!(t.size/1024>e)||(this.hasError=!0,this.errorMsg=a.error.outOfSize+e+\"kb\",!1)},setSourceImg:function(t){var a=this,e=new FileReader;e.onload=function(t){a.groupInfo.avatar=e.result},e.readAsDataURL(t)},inArray:function(t,a){for(var e in t)if(t[e]==a)return!0;return!1}}},d=u,p=(e(\"2b59\"),e(\"2877\")),f=Object(p[\"a\"])(d,l,s,!1,null,\"37e5a828\",null),g=f.exports,m={name:\"Dashboard\",components:{PanelGroup:g},computed:Object(r[\"a\"])({},Object(i[\"b\"])([\"name\"])),data:function(){return{}},methods:{}},h=m,b=(e(\"d59d\"),Object(p[\"a\"])(h,n,o,!1,null,\"56360f2e\",null));a[\"default\"]=b.exports},d59d:function(t,a,e){\"use strict\";e(\"5aac\")},e75a:function(t,a,e){}}]);","extractedComments":[]}