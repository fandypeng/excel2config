{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-9c12de9c\"],{\"23ba\":function(t,e,n){\"use strict\";n.d(e,\"h\",(function(){return o})),n.d(e,\"g\",(function(){return r})),n.d(e,\"j\",(function(){return i})),n.d(e,\"i\",(function(){return l})),n.d(e,\"f\",(function(){return c})),n.d(e,\"a\",(function(){return s})),n.d(e,\"e\",(function(){return u})),n.d(e,\"k\",(function(){return d})),n.d(e,\"b\",(function(){return p})),n.d(e,\"c\",(function(){return f})),n.d(e,\"d\",(function(){return g}));var a=n(\"b775\");function o(t){return Object(a[\"a\"])({url:\"/group/list\",method:\"get\",params:{gid:t}})}function r(t){return Object(a[\"a\"])({url:\"/group/add\",method:\"post\",data:t})}function i(t){return Object(a[\"a\"])({url:\"/group/update\",method:\"post\",data:t})}function l(t){return console.log(t),Object(a[\"a\"])({url:\"/group/test_connection\",method:\"post\",data:t})}function c(t){return console.log(t),Object(a[\"a\"])({url:\"/group/get_config_from_db\",method:\"post\",data:t})}function s(t){return console.log(t),Object(a[\"a\"])({url:\"/group/export_config_to_db\",method:\"post\",data:t})}function u(){return Object(a[\"a\"])({url:\"/group/gen_app_key_secret\",method:\"get\"})}function d(t){return console.log(t),Object(a[\"a\"])({url:\"/group/sync_to_prod\",method:\"post\",data:t})}function p(t){return console.log(t),Object(a[\"a\"])({url:\"/group/export_record\",method:\"post\",data:t})}function f(t){return console.log(t),Object(a[\"a\"])({url:\"/group/export_record_content\",method:\"post\",data:t})}function g(t){return console.log(t),Object(a[\"a\"])({url:\"/group/export_rollback\",method:\"post\",data:t})}},\"2b59\":function(t,e,n){\"use strict\";n(\"e75a\")},\"5aac\":function(t,e,n){},9406:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"dashboard-container\"},[n(\"panel-group\")],1)},o=[],r=n(\"5530\"),i=n(\"2f62\"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"el-row\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"panel-group\",attrs:{gutter:40,\"element-loading-text\":\"Loading\"}},[t._l(t.list,(function(e){return n(\"el-col\",{key:e.gid,staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(n){return t.handleClickGroupPanel(e)}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-box\"},[n(\"img\",{attrs:{src:e.avatar,alt:\"\"}})]),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[t._v(\" \"+t._s(e.name)+\" \")])])])])})),n(\"el-col\",{staticClass:\"card-panel-col\",attrs:{xs:12,sm:12,lg:6}},[n(\"div\",{staticClass:\"card-panel\",on:{click:function(e){return t.handleClickAddGroup()}}},[n(\"div\",{staticClass:\"card-panel-icon-wrapper icon-box\"},[n(\"i\",{staticClass:\"el-icon-plus\"})]),n(\"div\",{staticClass:\"card-panel-description\"},[n(\"div\",{staticClass:\"card-panel-text\"},[t._v(\" 添加项目 \")])])])]),n(\"el-dialog\",{attrs:{visible:t.dialogVisible,title:\"添加项目\"},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[n(\"el-form\",{attrs:{model:t.groupInfo,\"label-width\":\"80px\",\"label-position\":\"left\"}},[n(\"el-form-item\",{attrs:{label:\"项目名称\"}},[n(\"el-input\",{attrs:{placeholder:\"项目名称\"},model:{value:t.groupInfo.name,callback:function(e){t.$set(t.groupInfo,\"name\",e)},expression:\"groupInfo.name\"}})],1),n(\"el-form-item\",{attrs:{label:\"头像\"}},[n(\"el-col\",{attrs:{span:11}},[n(\"img\",{attrs:{id:\"group-icon\",src:t.groupInfo.avatar,alt:\"\"}}),n(\"input\",{staticClass:\"avatar-input\",attrs:{type:\"file\",accept:\"image/*\",name:\"avatar\"},on:{change:t.uploadAvatar}})])],1),n(\"br\"),n(\"el-form-item\",{attrs:{label:\"备注\"}},[n(\"el-input\",{attrs:{type:\"textarea\",placeholder:\"项目备注\"},model:{value:t.groupInfo.remark,callback:function(e){t.$set(t.groupInfo,\"remark\",e)},expression:\"groupInfo.remark\"}})],1)],1),n(\"div\",{staticStyle:{\"text-align\":\"right\"}},[n(\"el-button\",{attrs:{type:\"danger\"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(\"取消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.addGroupInfo}},[t._v(\"保存\")])],1)],1)],2)},c=[],s=(n(\"c975\"),n(\"23ba\")),u={data:function(){return{dialogVisible:!1,groupInfo:{name:\"\",avatar:\"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif\"},listLoading:!1,list:[]}},components:{},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(s[\"h\"])({}).then((function(e){void 0!=e.data.list&&(t.list=e.data.list),t.listLoading=!1}))},handleClickGroupPanel:function(t){localStorage.setItem(\"groupInfo\",JSON.stringify(t)),this.$router.push({path:\"/config/index\"})},handleClickAddGroup:function(){this.dialogVisible=!0},addGroupInfo:function(){var t=this;console.log(this.groupInfo),Object(s[\"g\"])(this.groupInfo).then((function(e){void 0!=e.data.groupInfo&&(t.list.push(e.data.groupInfo),t.dialogVisible=!1),console.log(t.list)}))},uploadAvatar:function(t){t.preventDefault(),console.log(t);var e=t.target.files||t.dataTransfer.files;this.checkFile(e[0])&&this.setSourceImg(e[0])},checkFile:function(t){var e=this.lang,n=this.maxSize;return-1===t.type.indexOf(\"image\")?(this.hasError=!0,this.errorMsg=e.error.onlyImg,!1):!(t.size/1024>n)||(this.hasError=!0,this.errorMsg=e.error.outOfSize+n+\"kb\",!1)},setSourceImg:function(t){var e=this,n=new FileReader;n.onload=function(t){e.groupInfo.avatar=n.result},n.readAsDataURL(t)},inArray:function(t,e){for(var n in t)if(t[n]==e)return!0;return!1}}},d=u,p=(n(\"2b59\"),n(\"2877\")),f=Object(p[\"a\"])(d,l,c,!1,null,\"37e5a828\",null),g=f.exports,h={name:\"Dashboard\",components:{PanelGroup:g},computed:Object(r[\"a\"])({},Object(i[\"b\"])([\"name\"])),data:function(){return{}},methods:{}},m=h,b=(n(\"d59d\"),Object(p[\"a\"])(m,a,o,!1,null,\"56360f2e\",null));e[\"default\"]=b.exports},d59d:function(t,e,n){\"use strict\";n(\"5aac\")},e75a:function(t,e,n){}}]);","extractedComments":[]}