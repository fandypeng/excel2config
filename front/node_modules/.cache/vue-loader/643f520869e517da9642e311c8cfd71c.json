{"remainingRequest":"/Users/Fandy/workspace/e2c/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Fandy/workspace/e2c/front/src/views/LuckySheet/LuckySheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Fandy/workspace/e2c/front/src/views/LuckySheet/LuckySheet.vue","mtime":1615025874721},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHRpdGxlIH0gZnJvbSAnQC9zZXR0aW5ncyc7CmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0x1Y2t5U2hlZXQnLAogIHByb3BzOiB7CiAgICBtc2c6IFN0cmluZwogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWQ6IiIsCiAgICAgIGlzTWFza1Nob3c6IGZhbHNlLAogICAgICBncmlkS2V5OiB0aGlzLiRyb3V0ZS5wYXJhbXMubmFtZSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgJ3VpZCcKICAgIF0pCiAgfSwKICBtb3VudGVkKCkgewogICAgdmFyIHZtID0gdGhpcwogICAgLy8gSW4gc29tZSBjYXNlcywgeW91IG5lZWQgdG8gdXNlICRuZXh0VGljawogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB2YXIgYmFzZUhvc3QgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJCiAgICAgIHZhciB3c0hvc3QgPSBiYXNlSG9zdC5yZXBsYWNlKCI4MDAwIiwgIjgwMDEiKQogICAgICB3c0hvc3QgPSB3c0hvc3QucmVwbGFjZSgiaHR0cDovLyIsICJ3czovLyIpCiAgICAgIGNvbnNvbGUubG9nKCJ3c0hvc3Q6ICIsIHdzSG9zdCkKICAgICAgY29uc29sZS5sb2coImJhc2VIb3N0OiAiLCBiYXNlSG9zdCkKICAgICAgJChmdW5jdGlvbiAoKSB7CiAgICAgICAgbHVja3lzaGVldC5jcmVhdGUoewogICAgICAgICAgY29udGFpbmVyOiAibHVja3lzaGVldCIsCiAgICAgICAgICBhbGxvd0VkaXQ6dHJ1ZSwKICAgICAgICAgIGFsbG93VXBkYXRlOiB0cnVlLCAvL+aYr+WQpuWFgeiuuOe8lui+keWQjueahOWQjuWPsOabtOaWsAogICAgICAgICAgZ3JpZEtleTogdm0uJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgIGxvYWRVcmw6IGJhc2VIb3N0ICsgIi9leGNlbD91aWQ9Iit2bS51aWQrIiZ0b2tlbj0iK2dldFRva2VuKCksIC8vIOmFjee9rmxvYWRVcmznmoTlnLDlnYDvvIxsdWNreXNoZWV05Lya6YCa6L+HYWpheOivt+axguihqOagvOaVsOaNru+8jOm7mOiupOi9veWFpXN0YXR1c+S4ujHnmoRzaGVldOaVsOaNruS4reeahOaJgOaciWRhdGHvvIzlhbbkvZnnmoRzaGVldOi9veWFpemZpGRhdGHlrZfmrrXlpJbnmoTmiYDmnInlrZfmrrUKICAgICAgICAgIGxvYWRTaGVldFVybDogYmFzZUhvc3QgKyAiL2V4Y2VsL3NoZWV0P3VpZD0iK3ZtLnVpZCsiJnRva2VuPSIrZ2V0VG9rZW4oKSwgLy/phY3nva5sb2FkU2hlZXRVcmznmoTlnLDlnYDvvIzlj4LmlbDkuLpncmlkS2V577yI6KGo5qC85Li76ZSu77yJIOWSjCBpbmRleO+8iHNoZWV05Li76ZSu5ZCI6ZuG77yM5qC85byP5Li6WzEsMiwzXe+8ie+8jOi/lOWbnueahOaVsOaNruS4unNoZWV055qEZGF0YeWtl+auteaVsOaNrumbhuWQiAogICAgICAgICAgdXBkYXRlVXJsOiB3c0hvc3QgKyAiL3VpZC8iK3ZtLnVpZCsiL3Rva2VuLyIrZ2V0VG9rZW4oKSwKICAgICAgICAgIG15Rm9sZGVyVXJsOiAiIy9jb25maWcvaW5kZXgiLAogICAgICAgICAgdGl0bGU6IHZtLiRyb3V0ZS5wYXJhbXMubmFtZSwKICAgICAgICAgIGxhbmc6ICJ6aCIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIGRlc3Ryb3llZCAoKSB7CiAgICAvLyBjb25zb2xlLmxvZyhsdWNreXNoZWV0KQogICAgbHVja3lzaGVldC5jbG9zZVdlYnNvY2tldCgpCiAgICBsdWNreXNoZWV0LmRlc3Ryb3koKQogICAgdmFyIHJldFRpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsdWNreXNoZWV0LXRvb2x0aXAtdXAiKQogICAgaWYgKHJldFRpcCAhPSBudWxsKSB7CiAgICAgIHJldFRpcC5yZW1vdmUoKQogICAgfQogIH0sCiAgbWV0aG9kczp7CiAgICAKICB9Cn0K"},{"version":3,"sources":["LuckySheet.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"LuckySheet.vue","sourceRoot":"src/views/LuckySheet","sourcesContent":["<template>\n  <div id=\"luckysheet\"\n      style=\"margin:0px;padding:0px;position:absolute;width:100%;left: 0px;top: 0px;bottom:0px;height:100%;display:block;\"\n    ></div>\n</template>\n\n<script>\nimport { title } from '@/settings';\nimport { getToken } from '@/utils/auth';\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'LuckySheet',\n  props: {\n    msg: String\n  },\n  data(){\n    return {\n      selected:\"\",\n      isMaskShow: false,\n      gridKey: this.$route.params.name,\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'uid'\n    ])\n  },\n  mounted() {\n    var vm = this\n    // In some cases, you need to use $nextTick\n    this.$nextTick(() => {\n      var baseHost = process.env.VUE_APP_BASE_API\n      var wsHost = baseHost.replace(\"8000\", \"8001\")\n      wsHost = wsHost.replace(\"http://\", \"ws://\")\n      console.log(\"wsHost: \", wsHost)\n      console.log(\"baseHost: \", baseHost)\n      $(function () {\n        luckysheet.create({\n          container: \"luckysheet\",\n          allowEdit:true,\n          allowUpdate: true, //是否允许编辑后的后台更新\n          gridKey: vm.$route.params.id,\n          loadUrl: baseHost + \"/excel?uid=\"+vm.uid+\"&token=\"+getToken(), // 配置loadUrl的地址，luckysheet会通过ajax请求表格数据，默认载入status为1的sheet数据中的所有data，其余的sheet载入除data字段外的所有字段\n          loadSheetUrl: baseHost + \"/excel/sheet?uid=\"+vm.uid+\"&token=\"+getToken(), //配置loadSheetUrl的地址，参数为gridKey（表格主键） 和 index（sheet主键合集，格式为[1,2,3]），返回的数据为sheet的data字段数据集合\n          updateUrl: wsHost + \"/uid/\"+vm.uid+\"/token/\"+getToken(),\n          myFolderUrl: \"#/config/index\",\n          title: vm.$route.params.name,\n          lang: \"zh\"\n        });\n      });\n    });\n  },\n  destroyed () {\n    // console.log(luckysheet)\n    luckysheet.closeWebsocket()\n    luckysheet.destroy()\n    var retTip = document.getElementById(\"luckysheet-tooltip-up\")\n    if (retTip != null) {\n      retTip.remove()\n    }\n  },\n  methods:{\n    \n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}