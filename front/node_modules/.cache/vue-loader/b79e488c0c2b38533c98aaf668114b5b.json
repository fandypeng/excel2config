{"remainingRequest":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Fandy/workspace/e2c/excel2config/front/src/views/dashboard/PanelGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Fandy/workspace/e2c/excel2config/front/src/views/dashboard/PanelGroup.vue","mtime":1620973786318},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Fandy/workspace/e2c/excel2config/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdyb3VwTGlzdCwgZ3JvdXBBZGQgfSBmcm9tICdAL2FwaS9ncm91cCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGdyb3VwSW5mbzogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGF2YXRhcjogImh0dHBzOi8vd3BpbWcud2FsbHN0Y24uY29tL2Y3Nzg3MzhjLWU0ZjgtNDg3MC1iNjM0LTU2NzAzYjRhY2FmZS5naWYiLAogICAgICB9LAogICAgICBsaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGxpc3Q6IFtdLAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YSgpIHsKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUKICAgICAgZ3JvdXBMaXN0KHt9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5saXN0ICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0CiAgICAgICAgfQogICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUNsaWNrR3JvdXBQYW5lbChncm91cEluZm8pIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImdyb3VwSW5mbyIsIEpTT04uc3RyaW5naWZ5KGdyb3VwSW5mbykpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL2NvbmZpZy9pbmRleCIsCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlQ2xpY2tBZGRHcm91cCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGFkZEdyb3VwSW5mbygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5ncm91cEluZm8pCiAgICAgIGdyb3VwQWRkKHRoaXMuZ3JvdXBJbmZvKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5ncm91cEluZm8gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aGlzLmxpc3QucHVzaChyZXNwb25zZS5kYXRhLmdyb3VwSW5mbykKICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMubGlzdCkKICAgICAgfSkKICAgIH0sCiAgICB1cGxvYWRBdmF0YXIoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgY29uc29sZS5sb2coZSkKICAgICAgY29uc3QgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlcwogICAgICBpZiAodGhpcy5jaGVja0ZpbGUoZmlsZXNbMF0pKSB7CiAgICAgICAgdGhpcy5zZXRTb3VyY2VJbWcoZmlsZXNbMF0pCiAgICAgIH0KICAgIH0sCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgLy8g5qOA5rWL6YCJ5oup55qE5paH5Lu25piv5ZCm5ZCI6YCCCiAgICBjaGVja0ZpbGUoZmlsZSkgewogICAgICBjb25zdCB7IGxhbmcsIG1heFNpemUgfSA9IHRoaXMKICAgICAgLy8g5LuF6ZmQ5Zu+54mHCiAgICAgIGlmIChmaWxlLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gLTEpIHsKICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZQogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm9ubHlJbWcKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICAvLyDotoXlh7rlpKflsI8KICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgPiBtYXhTaXplKSB7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWUKICAgICAgICB0aGlzLmVycm9yTXNnID0gbGFuZy5lcnJvci5vdXRPZlNpemUgKyBtYXhTaXplICsgJ2tiJwogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIHJldHVybiB0cnVlCiAgICB9LAogICAgc2V0U291cmNlSW1nKGZpbGUpIHsKICAgICAgY29uc3QgZnIgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgIGZyLm9ubG9hZCA9IGUgPT4gewogICAgICAgIHRoaXMuZ3JvdXBJbmZvLmF2YXRhciA9IGZyLnJlc3VsdAogICAgICB9CiAgICAgIGZyLnJlYWRBc0RhdGFVUkwoZmlsZSkKICAgIH0sCiAgICBpbkFycmF5KGFyciwgdGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgaW4gYXJyKSB7CiAgICAgICAgaWYgKGFycltpXSA9PSB0YXJnZXQpIHsKICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBmYWxzZQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["PanelGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PanelGroup.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <el-row :gutter=\"40\" class=\"panel-group\" v-loading=\"listLoading\" element-loading-text=\"Loading\">\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\" v-for=\"item in list\" :key=\"item.gid\">\n      <div class=\"card-panel\" @click=\"handleClickGroupPanel(item)\">\n        <div class=\"card-panel-icon-wrapper icon-box\">\n          <img :src=\"item.avatar\" alt=\"\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <div class=\"card-panel-text\">\n            {{item.name}}\n          </div>\n        </div>\n      </div>\n    </el-col>\n\n    <el-col :xs=\"12\" :sm=\"12\" :lg=\"6\" class=\"card-panel-col\">\n      <div class=\"card-panel\" @click=handleClickAddGroup()>\n        <div class=\"card-panel-icon-wrapper icon-box\">\n          <i class=\"el-icon-plus\" />\n        </div>\n        <div class=\"card-panel-description\">\n          <div class=\"card-panel-text\">\n            添加项目\n          </div>\n        </div>\n      </div>\n    </el-col>\n\n    <el-dialog :visible.sync=\"dialogVisible\" title=\"添加项目\">\n      <el-form :model=\"groupInfo\" label-width=\"80px\" label-position=\"left\">\n        <el-form-item label=\"项目名称\">\n          <el-input v-model=\"groupInfo.name\" placeholder=\"项目名称\" />\n        </el-form-item>\n        <el-form-item label=\"头像\">\n          <el-col :span=\"11\">\n            <img id=\"group-icon\" v-bind:src=\"groupInfo.avatar\" alt=\"\">\n            <input class=\"avatar-input\" type=\"file\" accept=\"image/*\" @change=\"uploadAvatar\" name=\"avatar\"   />\n          </el-col>\n        </el-form-item>\n        <br>\n        <el-form-item label=\"备注\">\n          <el-input v-model=\"groupInfo.remark\" type=\"textarea\" placeholder=\"项目备注\" />\n        </el-form-item>\n      </el-form>\n\n      <div style=\"text-align:right;\">\n        <el-button type=\"danger\" @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"addGroupInfo\">保存</el-button>\n      </div>\n    </el-dialog>\n  </el-row>\n</template>\n\n<script>\nimport { groupList, groupAdd } from '@/api/group'\n\nexport default {\n  data() {\n    return {\n      dialogVisible: false,\n      groupInfo: {\n        name: \"\",\n        avatar: \"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif\",\n      },\n      listLoading: false,\n      list: [],\n    }\n  },\n  components: {\n  },\n  mounted() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true\n      groupList({}).then(response => {\n        if (response.data.list != undefined) {\n          this.list = response.data.list\n        }\n        this.listLoading = false\n      })\n    },\n    handleClickGroupPanel(groupInfo) {\n      localStorage.setItem(\"groupInfo\", JSON.stringify(groupInfo))\n      this.$router.push({\n        path: \"/config/index\",\n      })\n    },\n    handleClickAddGroup() {\n      this.dialogVisible = true\n    },\n    addGroupInfo() {\n      console.log(this.groupInfo)\n      groupAdd(this.groupInfo).then(response => {\n        if (response.data.groupInfo != undefined) {\n          this.list.push(response.data.groupInfo)\n          this.dialogVisible = false\n        }\n        console.log(this.list)\n      })\n    },\n    uploadAvatar(e) {\n      e.preventDefault()\n      console.log(e)\n      const files = e.target.files || e.dataTransfer.files\n      if (this.checkFile(files[0])) {\n        this.setSourceImg(files[0])\n      }\n    },\n    /* ---------------------------------------------------------------*/\n    // 检测选择的文件是否合适\n    checkFile(file) {\n      const { lang, maxSize } = this\n      // 仅限图片\n      if (file.type.indexOf('image') === -1) {\n        this.hasError = true\n        this.errorMsg = lang.error.onlyImg\n        return false\n      }\n      // 超出大小\n      if (file.size / 1024 > maxSize) {\n        this.hasError = true\n        this.errorMsg = lang.error.outOfSize + maxSize + 'kb'\n        return false\n      }\n      return true\n    },\n    setSourceImg(file) {\n      const fr = new FileReader()\n      fr.onload = e => {\n        this.groupInfo.avatar = fr.result\n      }\n      fr.readAsDataURL(file)\n    },\n    inArray(arr, target) {\n      for (var i in arr) {\n        if (arr[i] == target) {\n          return true\n        }\n      }\n      return false\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.panel-group {\n  margin-top: 18px;\n\n  .card-panel-col {\n    margin-bottom: 32px;\n  }\n\n  .avatar-input {\n    float: left;\n    position: absolute;\n    height: 60px;\n    width: 60px;\n    opacity: 0;\n  }\n  #group-icon {\n    float: left;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    position: absolute;\n  }\n\n  .card-panel {\n    height: 108px;\n    cursor: pointer;\n    font-size: 12px;\n    position: relative;\n    overflow: hidden;\n    color: #666;\n    background: #fff;\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\n    border-color: rgba(0, 0, 0, .05);\n\n    // &:hover {\n      // .card-panel-icon-wrapper {\n      //   color: #fff;\n      // }\n    // }\n\n    .icon-box img {\n      width: 64px;\n      border-radius: 50%;\n    }\n\n    .card-panel-icon-wrapper {\n      float: left;\n      margin: 22px 0 22px 10px;\n      // padding: 16px;\n      transition: all 0.38s ease-out;\n      border-radius: 6px;\n    }\n\n    .card-panel-icon {\n      float: left;\n      font-size: 48px;\n    }\n\n    .card-panel-description {\n      float: right;\n      font-weight: bold;\n      margin-right: 20px;\n      margin-left: 0px;\n      max-width: 300px;\n\n      .card-panel-text {\n        line-height: 108px;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 24px;\n        // margin-bottom: 12px;\n      }\n    }\n    .icon-box i {\n      font-size: 64px;\n      font-weight: bold;\n    }\n  }\n}\n\n@media (max-width:550px) {\n  // .card-panel-description {\n  //   display: none;\n  // }\n  .card-panel-text {\n    display: block!important;\n    margin: 10 auto;\n    text-align: center;\n  }\n  .icon-box {\n    text-align: center;\n  }\n  .icon-box img {\n    margin: 14px auto!important;\n    width: 48px;\n  }\n  .card-panel-icon-wrapper {\n    float: none !important;\n    width: 100%;\n    height: 100%;\n    margin: 0 !important;\n\n    .svg-icon {\n      display: block;\n      margin: 14px auto !important;\n      float: none !important;\n    }\n  }\n}\n</style>\n"]}]}